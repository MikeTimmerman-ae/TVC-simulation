# Contains PyQt5 UIs

from PyQt5 import QtCore, QtGui, QtWidgets, QtOpenGL
from PyQt5.Qt import Qt
from OpenGL import GL, GLU
from OpenGL.GL.shaders import compileProgram, compileShader
from matplotlib.backends.backend_qt5agg import FigureCanvasQTAgg
from numpy import cos, sin, pi

import matplotlib.pyplot as plt
import numpy as np
import pandas as pd
import ctypes
import pyrr
import time

from GUI.helpers import Eframe2GlframeRotation, Eframe2GlframeTranslation, normalize

vertex_src = """
# version 330
layout(location = 0) in vec3 a_position;
layout(location = 1) in vec3 a_color;

uniform mat4 model;
uniform mat4 view;
uniform mat4 projection;

out vec4 v_color;
void main()
{
    gl_Position = projection * view * model * vec4(a_position, 1.0);
    v_color = vec4(a_color, 1);
}
"""

fragment_src = """
#version 330 core
out vec4 FragColor;
in vec4 v_color;

void main()
{
    FragColor = v_color;
}   
"""

FPS = 30        # frames per second


class GLWidgetSimulation(QtOpenGL.QGLWidget):
    def __init__(self, parent=None):
        self.parent = parent
        QtOpenGL.QGLWidget.__init__(self, parent)

        self.dt = 1 / FPS       # time steps
        self.simulation = None  # simulation object

        # object orientation
        self.theta = 0

        # camera config
        self.mousePosInit = np.array([0, 0])
        self.mousePosFin = np.array([0, 0])
        self.yaw = -122
        self.pitch = -23
        self.cameraPos = np.array([0.5, 0.5, 0.8])
        self.cameraFront = np.array([-0.487, -0.39, -0.782])
        self.cameraUp = np.array([0, 1, 0])

    def initializeGL(self):
        self.qglClearColor(QtGui.QColor(0, 191, 255))       # Initialize blue screen
        GL.glEnable(GL.GL_DEPTH_TEST)                       # Enable depth testing
        self.setUpdatesEnabled(True)

        self.shader = compileProgram(compileShader(vertex_src, GL.GL_VERTEX_SHADER),
                                     compileShader(fragment_src, GL.GL_FRAGMENT_SHADER))

        self.initGeometry()

        self.modelMatLoc =   GL.glGetUniformLocation(self.shader, "model")
        self.viewMatLoc = GL.glGetUniformLocation(self.shader, "view")
        self.projectionMatLoc = GL.glGetUniformLocation(self.shader, "projection")

    def resizeGL(self, width, height):
        height = height if height !=0 else 1
        GL.glViewport(0, 0, width, height)
        GL.glMatrixMode(GL.GL_PROJECTION)
        GL.glLoadIdentity()
        self.aspect = width / float(height)
        GLU.gluPerspective(45.0, self.aspect, 1.0, 100.0)
        GL.glMatrixMode(GL.GL_MODELVIEW)

    def paintGL(self):
        GL.glClear(GL.GL_COLOR_BUFFER_BIT | GL.GL_DEPTH_BUFFER_BIT)
        GL.glUseProgram(self.shader)
        # model matrix
        theta = float(np.radians(self.theta))
        model = pyrr.matrix33.create_from_x_rotation(theta)                                 # transformation in E-frame
        model = pyrr.Matrix44(Eframe2GlframeTranslation(model))                                # E-frame to GL-frame
        # view matrix
        view = pyrr.matrix44.create_look_at(self.cameraPos, self.cameraPos + self.cameraFront, self.cameraUp)
        # projection matrix
        projection = pyrr.matrix44.create_perspective_projection_matrix(45, self.aspect, 0.1, 100)
        # update shader uniforms
        GL.glUniformMatrix4fv(self.modelMatLoc, 1, GL.GL_FALSE, model)
        GL.glUniformMatrix4fv(self.viewMatLoc, 1, GL.GL_FALSE, view)
        GL.glUniformMatrix4fv(self.projectionMatLoc, 1, GL.GL_FALSE, projection)
        # draw objects
        GL.glBindVertexArray(self.VAO[0])
        GL.glDrawElements(GL.GL_TRIANGLES, 6, GL.GL_UNSIGNED_INT, None)
        GL.glBindVertexArray(self.VAO[1])
        GL.glDrawArrays(GL.GL_LINES, 0, 6)

        # simulate body-fixed frame
        if self.simulation:
            model = self.simulation.simulate()

            GL.glUniformMatrix4fv(self.modelMatLoc, 1, GL.GL_FALSE, model)
            GL.glBindVertexArray(self.VAO[2])
            GL.glDrawArrays(GL.GL_LINES, 0, 6)

    def initGeometry(self):
        # Construction of VAO to draw ground square and coordinate system
        square_vertices = np.array([1, 1, 0, 0.34, 0.49, 0.275,                            # Earth-fixed reference frame
                                    1, -1, 0, 0.34, 0.49, 0.275,
                                    -1, -1, 0, 0.34, 0.49, 0.275,
                                    -1, 1, 0, 0.34, 0.49, 0.275], dtype=np.float32)
        square_indices = np.array([0, 1, 3,
                                   1, 2, 3])

        coord_vertices_earth = np.array([0, 0, 0, 1, 0, 0,                                 # Earth-fixed reference frame
                                        1, 0, 0, 1, 0, 0,
                                        0, 0, 0, 0, 1, 0,
                                        0, 1, 0, 0, 1, 0,
                                        0, 0, 0, 0, 0, 1,
                                        0, 0, -1, 0, 0, 1], dtype=np.float32)

        coord_vertices_body = np.array([0, 0, 0, 0, 0, 1,                                  # Body-fixed reference frame
                                        0, 0, 0.1, 0, 0, 1,
                                        0, 0, 0, 1, 0, 0,
                                        0.1, 0, 0, 1, 0, 0,
                                        0, 0, 0, 0, 1, 0,
                                        0, 0.1, 0, 0, 1, 0], dtype=np.float32)

        coord_vertices = [coord_vertices_earth, coord_vertices_body]

        self.VAO = GL.glGenVertexArrays(3)
        # Create ground surface
        GL.glBindVertexArray(self.VAO[0])

        square_VBO = GL.glGenBuffers(1)
        GL.glBindBuffer(GL.GL_ARRAY_BUFFER, square_VBO)
        GL.glBufferData(GL.GL_ARRAY_BUFFER, square_vertices.nbytes, square_vertices, GL.GL_STATIC_DRAW)

        square_EBO = GL.glGenBuffers(1)
        GL.glBindBuffer(GL.GL_ELEMENT_ARRAY_BUFFER, square_EBO)
        GL.glBufferData(GL.GL_ELEMENT_ARRAY_BUFFER, square_indices.nbytes, square_indices, GL.GL_STATIC_DRAW)

        GL.glEnableVertexAttribArray(0)
        GL.glVertexAttribPointer(0, 3, GL.GL_FLOAT, GL.GL_FALSE, square_vertices.itemsize * 6, ctypes.c_void_p(0))

        GL.glEnableVertexAttribArray(1)
        GL.glVertexAttribPointer(1, 3, GL.GL_FLOAT, GL.GL_FALSE, square_vertices.itemsize * 6, ctypes.c_void_p(12))

        # Create coordinate system
        for i in [1, 2]:
            GL.glBindVertexArray(self.VAO[i])

            global_coord_VBO = GL.glGenBuffers(1)
            GL.glBindBuffer(GL.GL_ARRAY_BUFFER, global_coord_VBO)
            GL.glBufferData(GL.GL_ARRAY_BUFFER, coord_vertices[i - 1].nbytes, coord_vertices[i - 1], GL.GL_STATIC_DRAW)

            GL.glEnableVertexAttribArray(0)
            GL.glVertexAttribPointer(0, 3, GL.GL_FLOAT, GL.GL_FALSE, coord_vertices[i - 1].itemsize * 6, ctypes.c_void_p(0))

            GL.glEnableVertexAttribArray(1)
            GL.glVertexAttribPointer(1, 3, GL.GL_FLOAT, GL.GL_FALSE, coord_vertices[i - 1].itemsize * 6, ctypes.c_void_p(12))

    def processKeyInput(self, event):
        cameraSpeed = 2.5 * self.dt
        if event.key() == Qt.Key_W:
            self.cameraPos = self.cameraPos + cameraSpeed * self.cameraFront
        if event.key() == Qt.Key_S:
            self.cameraPos = self.cameraPos - cameraSpeed * self.cameraFront
        if event.key() == Qt.Key_A:
            self.cameraPos = self.cameraPos - normalize(np.cross(self.cameraFront, self.cameraUp)) * cameraSpeed
        if event.key() == Qt.Key_D:
            self.cameraPos = self.cameraPos + normalize(np.cross(self.cameraFront, self.cameraUp)) * cameraSpeed
        if event.key() == Qt.Key_Shift:
            self.cameraPos = self.cameraPos + np.array([0, cameraSpeed, 0])
        if event.key() == Qt.Key_Control:
            self.cameraPos = self.cameraPos + np.array([0, -cameraSpeed, 0])

    def processMouseInput(self, event):
        sensitivity = 0.05
        offset = (self.mousePosFin - self.mousePosInit) * sensitivity
        self.mousePosInit = self.mousePosFin
        self.yaw -= offset[0]
        self.pitch += offset[1]
        if self.pitch > 89:
            self.pitch = 89
        if self.pitch < -89:
            self.pitch = -89
        directionx = np.cos(np.radians(self.yaw)) * np.cos(np.radians(self.pitch))
        directiony = np.sin(np.radians(self.pitch))
        directionz = np.sin(np.radians(self.yaw)) * np.cos(np.radians(self.pitch))
        direction = np.array([directionx, directiony, directionz])
        self.cameraFront = normalize(direction)


class MplCanvas(FigureCanvasQTAgg):

    def __init__(self, parent=None, width=5, height=4, dpi=100):
        #fig, self.axes = plt.subplots(figsize=(width, height), dpi=dpi)
        self.fig = plt.Figure()
        super().__init__(self.fig)
        self.setParent(parent)

    def plot2D(self, x, y, xlabel, ylabel, r=None):
        self.fig.clear()
        self.axes = self.fig.add_subplot()
        self.axes.plot(x, y)
        if r is not None:
            self.axes.plot(x, r, 'r')
        self.axes.grid()
        self.axes.set_xlabel(xlabel)
        self.axes.set_ylabel(ylabel)
        self.draw()

    def plot3d(self, x, y, z, xlabel, ylabel, zlabel):
        self.fig.clear()
        self.axes = self.fig.add_subplot(111, projection="3d")
        self.axes.plot(x, y, -z)
        self.axes.set_xlabel(xlabel)
        self.axes.set_ylabel(ylabel)
        self.axes.set_zlabel(zlabel)
        self.draw()


class Ui_MainWindow(object):
    def setupUi(self, MainWindow):
        MainWindow.setObjectName("MainWindow")
        MainWindow.resize(1280, 720)
        MainWindow.setMinimumSize(1280, 720)
        font = QtGui.QFont()
        font.setBold(False)
        font.setWeight(50)
        MainWindow.setFont(font)
        MainWindow.setTabShape(QtWidgets.QTabWidget.Rounded)
        self.centralwidget = QtWidgets.QWidget(MainWindow)
        self.centralwidget.setObjectName("centralwidget")

        self.verticalLayout = QtWidgets.QHBoxLayout(self.centralwidget)
        self.verticalLayout.setContentsMargins(0, 0, 0, 0)
        self.verticalLayout.setObjectName("verticalLayout")

        # Tab widget
        self.tabWidget = QtWidgets.QTabWidget(self.centralwidget)
        font = QtGui.QFont()
        font.setPointSize(10)
        self.tabWidget.setFont(font)
        self.tabWidget.setTabShape(QtWidgets.QTabWidget.Triangular)
        self.tabWidget.setObjectName("tabWidget")


        # First tab (simulation)
        self.tab_1 = QtWidgets.QWidget()
        self.tab_1.setObjectName("tab_1")
        self.horizontalLayout = QtWidgets.QHBoxLayout(self.tab_1)
        self.horizontalLayout.setContentsMargins(10, 10, 10, 10)
        self.horizontalLayout.setObjectName("horizontalLayout")

        # Group box: 3D view
        self.TrajectorySim = QtWidgets.QGroupBox(self.tab_1)
        font = QtGui.QFont()
        font.setPointSize(12)
        self.TrajectorySim.setFont(font)
        self.TrajectorySim.setObjectName("TrajectorySim")
        self.horizontalLayout.addWidget(self.TrajectorySim)
        self.horizontalLayout.setStretch(0, 10)
        self.verticalLayout_3Dbox = QtWidgets.QVBoxLayout(self.TrajectorySim)
        self.verticalLayout_3Dbox.setContentsMargins(10, 10, 10, 10)
        self.verticalLayout_3Dbox.setObjectName("verticalLayout_3Dbox")

        ## GL window
        self.openGLWidget = GLWidgetSimulation(self.TrajectorySim)
        self.openGLWidget.setObjectName("openGLWidget")
        self.verticalLayout_3Dbox.addWidget(self.openGLWidget)
        self.verticalLayout_3Dbox.setStretch(0, 19)

        ## Simulation time control/indication
        self.horizontalLayout_timelineWidget = QtWidgets.QWidget(self.TrajectorySim)
        self.horizontalLayout_timelineWidget.setObjectName("horizontalLayout_timelineWidget")
        self.horizontalLayout_timeline = QtWidgets.QHBoxLayout(self.horizontalLayout_timelineWidget)
        self.horizontalLayout_timeline.setContentsMargins(5, 5, 5, 5)
        self.horizontalLayout_timeline.setObjectName("verticalLayout_3Dbox")
        self.verticalLayout_3Dbox.addWidget(self.horizontalLayout_timelineWidget)
        self.verticalLayout_3Dbox.setStretch(1, 1)

        ### play button
        self.pushButton = QtWidgets.QPushButton(self.TrajectorySim)
        self.pushButton.setObjectName("pushButton")
        self.horizontalLayout_timeline.addWidget(self.pushButton)
        self.horizontalLayout_timeline.setStretch(1, 1)

        ### simulation timeline
        self.horizontalSlider = QtWidgets.QSlider(self.TrajectorySim)
        self.horizontalSlider.setOrientation(QtCore.Qt.Horizontal)
        self.horizontalSlider.setObjectName("horizontalSlider")
        self.horizontalLayout_timeline.addWidget(self.horizontalSlider)
        self.horizontalLayout_timeline.setStretch(1, 9)


        # Group box: States
        self.States = QtWidgets.QGroupBox(self.tab_1)
        font = QtGui.QFont()
        font.setPointSize(12)
        self.States.setFont(font)
        self.States.setObjectName("States")
        self.horizontalLayout.addWidget(self.States)
        self.horizontalLayout.setStretch(1, 3)
        self.verticalLayout_Statesbox = QtWidgets.QVBoxLayout(self.States)
        self.verticalLayout_Statesbox.setContentsMargins(10, 10, 10, 10)
        self.verticalLayout_Statesbox.setObjectName("verticalLayout_Statesbox")

        ## group box 1: earth-fixed frame
        self.earthFrame = QtWidgets.QGroupBox(self.States)
        font = QtGui.QFont()
        font.setPointSize(10)
        self.earthFrame.setFont(font)
        self.earthFrame.setObjectName("earthFrame")
        self.verticalLayout_Statesbox.addWidget(self.earthFrame)
        self.verticalLayout_Statesbox.setStretch(0, 6)

        self.pitch_angle_label = QtWidgets.QLabel(self.earthFrame)
        self.pitch_angle_label.setGeometry(QtCore.QRect(20, 60, 81, 21))
        font = QtGui.QFont()
        font.setPointSize(10)
        self.pitch_angle_label.setFont(font)
        self.pitch_angle_label.setObjectName("pitch_angle_label")

        self.yaw_angle_lable = QtWidgets.QLabel(self.earthFrame)
        self.yaw_angle_lable.setGeometry(QtCore.QRect(20, 90, 81, 21))
        font = QtGui.QFont()
        font.setPointSize(10)
        self.yaw_angle_lable.setFont(font)
        self.yaw_angle_lable.setObjectName("yaw_angle_lable")

        self.x_position_label = QtWidgets.QLabel(self.earthFrame)
        self.x_position_label.setGeometry(QtCore.QRect(20, 130, 81, 21))
        font = QtGui.QFont()
        font.setPointSize(10)
        self.x_position_label.setFont(font)
        self.x_position_label.setObjectName("x_position_label")

        self.roll_angle_label = QtWidgets.QLabel(self.earthFrame)
        self.roll_angle_label.setGeometry(QtCore.QRect(20, 30, 81, 21))
        font = QtGui.QFont()
        font.setPointSize(10)
        self.roll_angle_label.setFont(font)
        self.roll_angle_label.setObjectName("roll_angle_label")

        self.y_position_label = QtWidgets.QLabel(self.earthFrame)
        self.y_position_label.setGeometry(QtCore.QRect(20, 160, 81, 21))
        font = QtGui.QFont()
        font.setPointSize(10)
        self.y_position_label.setFont(font)
        self.y_position_label.setObjectName("y_position_label")

        self.z_position_label = QtWidgets.QLabel(self.earthFrame)
        self.z_position_label.setGeometry(QtCore.QRect(20, 190, 81, 21))
        font = QtGui.QFont()
        font.setPointSize(10)
        self.z_position_label.setFont(font)
        self.z_position_label.setObjectName("z_position_label")

        self.line2 = QtWidgets.QFrame(self.earthFrame)
        self.line2.setGeometry(QtCore.QRect(10, 110, 221, 16))
        self.line2.setFrameShape(QtWidgets.QFrame.HLine)
        self.line2.setFrameShadow(QtWidgets.QFrame.Sunken)
        self.line2.setObjectName("line2")

        self.roll_angle = QtWidgets.QLabel(self.earthFrame)
        self.roll_angle.setGeometry(QtCore.QRect(110, 30, 61, 21))
        self.roll_angle.setFrameShape(QtWidgets.QFrame.Box)
        self.roll_angle.setFrameShadow(QtWidgets.QFrame.Plain)
        self.roll_angle.setText("")
        self.roll_angle.setObjectName("roll_angle")

        self.roll_angle_unit = QtWidgets.QLabel(self.earthFrame)
        self.roll_angle_unit.setGeometry(QtCore.QRect(190, 30, 31, 21))
        font = QtGui.QFont()
        font.setPointSize(10)
        self.roll_angle_unit.setFont(font)
        self.roll_angle_unit.setObjectName("roll_angle_unit")

        self.pitch_angle = QtWidgets.QLabel(self.earthFrame)
        self.pitch_angle.setGeometry(QtCore.QRect(110, 60, 61, 21))
        self.pitch_angle.setFrameShape(QtWidgets.QFrame.Box)
        self.pitch_angle.setFrameShadow(QtWidgets.QFrame.Plain)
        self.pitch_angle.setText("")
        self.pitch_angle.setObjectName("pitch_angle")

        self.yaw_angle = QtWidgets.QLabel(self.earthFrame)
        self.yaw_angle.setGeometry(QtCore.QRect(110, 90, 61, 21))
        self.yaw_angle.setFrameShape(QtWidgets.QFrame.Box)
        self.yaw_angle.setFrameShadow(QtWidgets.QFrame.Plain)
        self.yaw_angle.setText("")
        self.yaw_angle.setObjectName("yaw_angle")

        self.pitch_angle_unit = QtWidgets.QLabel(self.earthFrame)
        self.pitch_angle_unit.setGeometry(QtCore.QRect(190, 60, 31, 21))
        font = QtGui.QFont()
        font.setPointSize(10)
        self.pitch_angle_unit.setFont(font)
        self.pitch_angle_unit.setObjectName("pitch_angle_unit")

        self.yaw_angle_unit = QtWidgets.QLabel(self.earthFrame)
        self.yaw_angle_unit.setGeometry(QtCore.QRect(190, 90, 31, 21))
        font = QtGui.QFont()
        font.setPointSize(10)
        self.yaw_angle_unit.setFont(font)
        self.yaw_angle_unit.setObjectName("yaw_angle_unit")

        self.z_position = QtWidgets.QLabel(self.earthFrame)
        self.z_position.setGeometry(QtCore.QRect(110, 190, 61, 21))
        self.z_position.setFrameShape(QtWidgets.QFrame.Box)
        self.z_position.setFrameShadow(QtWidgets.QFrame.Plain)
        self.z_position.setText("")
        self.z_position.setObjectName("z_position")

        self.x_position_unit = QtWidgets.QLabel(self.earthFrame)
        self.x_position_unit.setGeometry(QtCore.QRect(190, 130, 21, 21))
        font = QtGui.QFont()
        font.setPointSize(10)
        self.x_position_unit.setFont(font)
        self.x_position_unit.setObjectName("x_position_unit")

        self.y_position_unit = QtWidgets.QLabel(self.earthFrame)
        self.y_position_unit.setGeometry(QtCore.QRect(190, 160, 21, 21))
        font = QtGui.QFont()
        font.setPointSize(10)
        self.y_position_unit.setFont(font)
        self.y_position_unit.setObjectName("y_position_unit")

        self.x_position = QtWidgets.QLabel(self.earthFrame)
        self.x_position.setGeometry(QtCore.QRect(110, 130, 61, 21))
        self.x_position.setFrameShape(QtWidgets.QFrame.Box)
        self.x_position.setFrameShadow(QtWidgets.QFrame.Plain)
        self.x_position.setText("")
        self.x_position.setObjectName("x_position")

        self.z_position_unit = QtWidgets.QLabel(self.earthFrame)
        self.z_position_unit.setGeometry(QtCore.QRect(190, 190, 21, 21))
        font = QtGui.QFont()
        font.setPointSize(10)
        self.z_position_unit.setFont(font)
        self.z_position_unit.setObjectName("z_position_unit")

        self.y_position = QtWidgets.QLabel(self.earthFrame)
        self.y_position.setGeometry(QtCore.QRect(110, 160, 61, 21))
        self.y_position.setFrameShape(QtWidgets.QFrame.Box)
        self.y_position.setFrameShadow(QtWidgets.QFrame.Plain)
        self.y_position.setText("")
        self.y_position.setObjectName("y_position")

        ## group box 2: body frame
        self.bodyFrame = QtWidgets.QGroupBox(self.States)
        font = QtGui.QFont()
        font.setPointSize(10)
        self.bodyFrame.setFont(font)
        self.bodyFrame.setObjectName("bodyFrame")
        self.verticalLayout_Statesbox.addWidget(self.bodyFrame)
        self.verticalLayout_Statesbox.setStretch(1, 6)

        self.pitch_rate_label = QtWidgets.QLabel(self.bodyFrame)
        self.pitch_rate_label.setGeometry(QtCore.QRect(20, 60, 71, 21))
        font = QtGui.QFont()
        font.setPointSize(10)
        self.pitch_rate_label.setFont(font)
        self.pitch_rate_label.setObjectName("pitch_rate_label")

        self.yaw_rate_lable = QtWidgets.QLabel(self.bodyFrame)
        self.yaw_rate_lable.setGeometry(QtCore.QRect(20, 90, 71, 21))
        font = QtGui.QFont()
        font.setPointSize(10)
        self.yaw_rate_lable.setFont(font)
        self.yaw_rate_lable.setObjectName("yaw_rate_lable")

        self.x_velocity_label = QtWidgets.QLabel(self.bodyFrame)
        self.x_velocity_label.setGeometry(QtCore.QRect(20, 130, 81, 21))
        font = QtGui.QFont()
        font.setPointSize(10)
        self.x_velocity_label.setFont(font)
        self.x_velocity_label.setObjectName("x_velocity_label")

        self.roll_rate_label = QtWidgets.QLabel(self.bodyFrame)
        self.roll_rate_label.setGeometry(QtCore.QRect(20, 30, 71, 21))
        font = QtGui.QFont()
        font.setPointSize(10)
        self.roll_rate_label.setFont(font)
        self.roll_rate_label.setObjectName("roll_rate_label")

        self.y_velocity_label = QtWidgets.QLabel(self.bodyFrame)
        self.y_velocity_label.setGeometry(QtCore.QRect(20, 160, 81, 21))
        font = QtGui.QFont()
        font.setPointSize(10)
        self.y_velocity_label.setFont(font)
        self.y_velocity_label.setObjectName("y_velocity_label")

        self.z_velocity_label = QtWidgets.QLabel(self.bodyFrame)
        self.z_velocity_label.setGeometry(QtCore.QRect(20, 190, 81, 21))
        font = QtGui.QFont()
        font.setPointSize(10)
        self.z_velocity_label.setFont(font)
        self.z_velocity_label.setObjectName("z_velocity_label")

        self.line1 = QtWidgets.QFrame(self.bodyFrame)
        self.line1.setGeometry(QtCore.QRect(10, 110, 221, 16))
        self.line1.setFrameShape(QtWidgets.QFrame.HLine)
        self.line1.setFrameShadow(QtWidgets.QFrame.Sunken)
        self.line1.setObjectName("line1")

        self.pitch_rate = QtWidgets.QLabel(self.bodyFrame)
        self.pitch_rate.setGeometry(QtCore.QRect(110, 60, 61, 21))
        self.pitch_rate.setFrameShape(QtWidgets.QFrame.Box)
        self.pitch_rate.setFrameShadow(QtWidgets.QFrame.Plain)
        self.pitch_rate.setText("")
        self.pitch_rate.setObjectName("pitch_rate")

        self.roll_rate_unit = QtWidgets.QLabel(self.bodyFrame)
        self.roll_rate_unit.setGeometry(QtCore.QRect(190, 30, 51, 21))
        font = QtGui.QFont()
        font.setPointSize(10)
        self.roll_rate_unit.setFont(font)
        self.roll_rate_unit.setObjectName("roll_rate_unit")

        self.roll_rate = QtWidgets.QLabel(self.bodyFrame)
        self.roll_rate.setGeometry(QtCore.QRect(110, 30, 61, 21))
        self.roll_rate.setFrameShape(QtWidgets.QFrame.Box)
        self.roll_rate.setFrameShadow(QtWidgets.QFrame.Plain)
        self.roll_rate.setText("")
        self.roll_rate.setObjectName("roll_rate")

        self.yaw_rate = QtWidgets.QLabel(self.bodyFrame)
        self.yaw_rate.setGeometry(QtCore.QRect(110, 90, 61, 21))
        self.yaw_rate.setFrameShape(QtWidgets.QFrame.Box)
        self.yaw_rate.setFrameShadow(QtWidgets.QFrame.Plain)
        self.yaw_rate.setText("")
        self.yaw_rate.setObjectName("yaw_rate")

        self.pitch_rate_unit = QtWidgets.QLabel(self.bodyFrame)
        self.pitch_rate_unit.setGeometry(QtCore.QRect(190, 60, 51, 21))
        font = QtGui.QFont()
        font.setPointSize(10)
        self.pitch_rate_unit.setFont(font)
        self.pitch_rate_unit.setObjectName("pitch_rate_unit")

        self.yaw_rate_unit = QtWidgets.QLabel(self.bodyFrame)
        self.yaw_rate_unit.setGeometry(QtCore.QRect(190, 90, 51, 21))
        font = QtGui.QFont()
        font.setPointSize(10)
        self.yaw_rate_unit.setFont(font)
        self.yaw_rate_unit.setObjectName("yaw_rate_unit")

        self.z_velocity_unit = QtWidgets.QLabel(self.bodyFrame)
        self.z_velocity_unit.setGeometry(QtCore.QRect(190, 190, 31, 21))
        font = QtGui.QFont()
        font.setPointSize(10)
        self.z_velocity_unit.setFont(font)
        self.z_velocity_unit.setObjectName("z_velocity_unit")

        self.x_velocity_unit = QtWidgets.QLabel(self.bodyFrame)
        self.x_velocity_unit.setGeometry(QtCore.QRect(190, 130, 31, 21))
        font = QtGui.QFont()
        font.setPointSize(10)
        self.x_velocity_unit.setFont(font)
        self.x_velocity_unit.setObjectName("x_velocity_unit")

        self.x_velocity = QtWidgets.QLabel(self.bodyFrame)
        self.x_velocity.setGeometry(QtCore.QRect(110, 130, 61, 21))
        self.x_velocity.setFrameShape(QtWidgets.QFrame.Box)
        self.x_velocity.setFrameShadow(QtWidgets.QFrame.Plain)
        self.x_velocity.setText("")
        self.x_velocity.setObjectName("x_velocity")

        self.y_velocity_unit = QtWidgets.QLabel(self.bodyFrame)
        self.y_velocity_unit.setGeometry(QtCore.QRect(190, 160, 31, 21))
        font = QtGui.QFont()
        font.setPointSize(10)
        self.y_velocity_unit.setFont(font)
        self.y_velocity_unit.setObjectName("y_velocity_unit")

        self.y_velocity = QtWidgets.QLabel(self.bodyFrame)
        self.y_velocity.setGeometry(QtCore.QRect(110, 160, 61, 21))
        self.y_velocity.setFrameShape(QtWidgets.QFrame.Box)
        self.y_velocity.setFrameShadow(QtWidgets.QFrame.Plain)
        self.y_velocity.setText("")
        self.y_velocity.setObjectName("y_velocity")

        self.z_velocity = QtWidgets.QLabel(self.bodyFrame)
        self.z_velocity.setGeometry(QtCore.QRect(110, 190, 61, 21))
        self.z_velocity.setFrameShape(QtWidgets.QFrame.Box)
        self.z_velocity.setFrameShadow(QtWidgets.QFrame.Plain)
        self.z_velocity.setText("")
        self.z_velocity.setObjectName("z_velocity")

        ## group box 3: inputs
        self.Inputs = QtWidgets.QGroupBox(self.States)
        font = QtGui.QFont()
        font.setPointSize(10)
        self.Inputs.setFont(font)
        self.Inputs.setObjectName("Inputs")
        self.verticalLayout_Statesbox.addWidget(self.Inputs)
        self.verticalLayout_Statesbox.setStretch(2, 3)

        self.gimbal2_label = QtWidgets.QLabel(self.Inputs)
        self.gimbal2_label.setGeometry(QtCore.QRect(10, 50, 111, 21))
        font = QtGui.QFont()
        font.setPointSize(10)
        self.gimbal2_label.setFont(font)
        self.gimbal2_label.setObjectName("gimbal2_label")

        self.rotational_label = QtWidgets.QLabel(self.Inputs)
        self.rotational_label.setGeometry(QtCore.QRect(10, 80, 111, 21))
        font = QtGui.QFont()
        font.setPointSize(10)
        self.rotational_label.setFont(font)
        self.rotational_label.setObjectName("rotational_label")

        self.gimbal1_label = QtWidgets.QLabel(self.Inputs)
        self.gimbal1_label.setGeometry(QtCore.QRect(10, 20, 121, 21))
        font = QtGui.QFont()
        font.setPointSize(10)
        self.gimbal1_label.setFont(font)
        self.gimbal1_label.setObjectName("gimbal1_label")

        self.gimbal1_unit = QtWidgets.QLabel(self.Inputs)
        self.gimbal1_unit.setGeometry(QtCore.QRect(190, 20, 31, 21))
        font = QtGui.QFont()
        font.setPointSize(10)
        self.gimbal1_unit.setFont(font)
        self.gimbal1_unit.setObjectName("gimbal1_unit")

        self.gimbal2_unit = QtWidgets.QLabel(self.Inputs)
        self.gimbal2_unit.setGeometry(QtCore.QRect(190, 50, 31, 21))
        font = QtGui.QFont()
        font.setPointSize(10)
        self.gimbal2_unit.setFont(font)
        self.gimbal2_unit.setObjectName("gimbal2_unit")

        self.gimbal1 = QtWidgets.QLabel(self.Inputs)
        self.gimbal1.setGeometry(QtCore.QRect(130, 20, 51, 21))
        self.gimbal1.setFrameShape(QtWidgets.QFrame.Box)
        self.gimbal1.setFrameShadow(QtWidgets.QFrame.Plain)
        self.gimbal1.setText("")
        self.gimbal1.setObjectName("gimbal1")

        self.gimbal2 = QtWidgets.QLabel(self.Inputs)
        self.gimbal2.setGeometry(QtCore.QRect(130, 50, 51, 21))
        self.gimbal2.setFrameShape(QtWidgets.QFrame.Box)
        self.gimbal2.setFrameShadow(QtWidgets.QFrame.Plain)
        self.gimbal2.setText("")
        self.gimbal2.setObjectName("gimbal2")

        self.rotational = QtWidgets.QLabel(self.Inputs)
        self.rotational.setGeometry(QtCore.QRect(130, 80, 51, 21))
        self.rotational.setFrameShape(QtWidgets.QFrame.Box)
        self.rotational.setFrameShadow(QtWidgets.QFrame.Plain)
        self.rotational.setText("")
        self.rotational.setObjectName("rotational")

        self.rotational_unit = QtWidgets.QLabel(self.Inputs)
        self.rotational_unit.setGeometry(QtCore.QRect(190, 80, 51, 21))
        font = QtGui.QFont()
        font.setPointSize(10)
        self.rotational_unit.setFont(font)
        self.rotational_unit.setObjectName("rotational_unit")



        ## Simulate button
        self.simulate = QtWidgets.QPushButton(self.States)
        font = QtGui.QFont()
        font.setPointSize(12)
        self.simulate.setFont(font)
        self.simulate.setObjectName("simulate")
        self.verticalLayout_Statesbox.addWidget(self.simulate)
        self.verticalLayout_Statesbox.setStretch(3, 0)

        self.tabWidget.addTab(self.tab_1, "")



        # Second tab (analyse)
        self.tab_2 = QtWidgets.QWidget()
        self.tab_2.setObjectName("tab_2")
        self.tabWidget.addTab(self.tab_2, "")
        self.tab2_VerticalLayout = QtWidgets.QVBoxLayout(self.tab_2)
        self.tab2_VerticalLayout.setContentsMargins(10, 10, 10, 10)
        self.tab2_VerticalLayout.setObjectName("tab2_VerticalLayout")

        ## Group box: button box
        self.buttonBox = QtWidgets.QGroupBox(self.tab_2)
        self.tab2_VerticalLayout.addWidget(self.buttonBox)
        self.tab2_VerticalLayout.setStretch(0, 0)
        self.buttonBoxLayout = QtWidgets.QHBoxLayout(self.buttonBox)
        self.buttonBoxLayout.setObjectName("buttonBoxLayout")

        ### Button 1: earth-fixed
        self.button1 = QtWidgets.QPushButton(self.buttonBox)
        self.button1.setObjectName("button1")
        self.buttonBoxLayout.addWidget(self.button1)
        self.buttonBoxLayout.setStretch(0, 1)

        ### Button 2: earth-fixed
        self.button2 = QtWidgets.QPushButton(self.buttonBox)
        self.button2.setObjectName("button2")
        self.buttonBoxLayout.addWidget(self.button2)
        self.buttonBoxLayout.setStretch(1, 1)

        ### Button 3: body-fixed
        self.button3 = QtWidgets.QPushButton(self.buttonBox)
        self.button3.setObjectName("button3")
        self.buttonBoxLayout.addWidget(self.button3)
        self.buttonBoxLayout.setStretch(2, 1)

        ### Button 4: inputs
        self.button4 = QtWidgets.QPushButton(self.buttonBox)
        self.button4.setObjectName("button4")
        self.buttonBoxLayout.addWidget(self.button4)
        self.buttonBoxLayout.setStretch(3, 1)

        ### Button 5: trajectory
        self.button5 = QtWidgets.QPushButton(self.buttonBox)
        self.button5.setObjectName("button5")
        self.buttonBoxLayout.addWidget(self.button5)
        self.buttonBoxLayout.setStretch(4, 1)


        ## Group box: graph box
        self.graphBox = QtWidgets.QStackedWidget(self.tab_2)
        self.tab2_VerticalLayout.addWidget(self.graphBox)
        self.tab2_VerticalLayout.setStretch(1, 1)

        ### Page 1: earth-fixed
        self.page_1 = QtWidgets.QWidget(self.graphBox)
        self.page_1.setObjectName("page_1")
        self.gridLayout_1 = QtWidgets.QGridLayout(self.page_1)
        self.gridLayout_1.setContentsMargins(0, 0, 0, 0)
        self.gridLayout_1.setHorizontalSpacing(10)
        self.gridLayout_1.setVerticalSpacing(10)
        self.gridLayout_1.setObjectName("gridLayout_1")

        self.graph1_1 = MplCanvas(self.page_1)
        self.graph1_1.setObjectName("graph1_1")
        self.gridLayout_1.addWidget(self.graph1_1, 0, 0, 1, 1)
        self.graph1_2 = MplCanvas(self.page_1)
        self.graph1_2.setObjectName("graph1_2")
        self.gridLayout_1.addWidget(self.graph1_2, 0, 1, 1, 1)
        self.graph1_3 = MplCanvas(self.page_1)
        self.graph1_3.setObjectName("graph1_3")
        self.gridLayout_1.addWidget(self.graph1_3, 0, 2, 1, 1)
        self.graph1_4 = MplCanvas(self.page_1)
        self.graph1_4.setObjectName("graph1_4")
        self.gridLayout_1.addWidget(self.graph1_4, 1, 0, 1, 1)
        self.graph1_5 = MplCanvas(self.page_1)
        self.graph1_5.setObjectName("graph1_5")
        self.gridLayout_1.addWidget(self.graph1_5, 1, 1, 1, 1)
        self.graph1_6 = MplCanvas(self.page_1)
        self.graph1_6.setObjectName("graph1_6")
        self.gridLayout_1.addWidget(self.graph1_6, 1, 2, 1, 1)

        self.graphBox.addWidget(self.page_1)

        ### Page 2: earth-fixed
        self.page_2 = QtWidgets.QWidget(self.graphBox)
        self.page_2.setObjectName("page_2")
        self.gridLayout_2 = QtWidgets.QGridLayout(self.page_2)
        self.gridLayout_2.setContentsMargins(0, 0, 0, 0)
        self.gridLayout_2.setHorizontalSpacing(10)
        self.gridLayout_2.setVerticalSpacing(10)
        self.gridLayout_2.setObjectName("gridLayout_2")

        self.graph2_1 = MplCanvas(self.page_2)
        self.graph2_1.setObjectName("graph2_1")
        self.gridLayout_2.addWidget(self.graph2_1, 0, 0, 1, 1)
        self.graph2_2 = MplCanvas(self.page_2)
        self.graph2_2.setObjectName("graph2_2")
        self.gridLayout_2.addWidget(self.graph2_2, 0, 1, 1, 1)
        self.graph2_3 = MplCanvas(self.page_2)
        self.graph2_3.setObjectName("graph2_3")
        self.gridLayout_2.addWidget(self.graph2_3, 0, 2, 1, 1)
        self.graph2_4 = MplCanvas(self.page_2)
        self.graph2_4.setObjectName("graph2_4")
        self.gridLayout_2.addWidget(self.graph2_4, 1, 0, 1, 1)
        self.graph2_5 = MplCanvas(self.page_2)
        self.graph2_5.setObjectName("graph2_5")
        self.gridLayout_2.addWidget(self.graph2_5, 1, 1, 1, 1)
        self.graph2_6 = MplCanvas(self.page_2)
        self.graph2_6.setObjectName("graph2_6")
        self.gridLayout_2.addWidget(self.graph2_6, 1, 2, 1, 1)

        self.graphBox.addWidget(self.page_2)

        ### Page 3: body-fixed
        self.page_3 = QtWidgets.QWidget(self.graphBox)
        self.page_3.setObjectName("page_3")
        self.gridLayout_3 = QtWidgets.QGridLayout(self.page_3)
        self.gridLayout_3.setContentsMargins(0, 0, 0, 0)
        self.gridLayout_3.setHorizontalSpacing(10)
        self.gridLayout_3.setVerticalSpacing(10)
        self.gridLayout_3.setObjectName("gridLayout_3")

        self.graph3_1 = MplCanvas(self.page_3)
        self.graph3_1.setObjectName("graph3_1")
        self.gridLayout_3.addWidget(self.graph3_1, 0, 0, 1, 1)
        self.graph3_2 = MplCanvas(self.page_3)
        self.graph3_2.setObjectName("graph3_2")
        self.gridLayout_3.addWidget(self.graph3_2, 0, 1, 1, 1)
        self.graph3_3 = MplCanvas(self.page_3)
        self.graph3_3.setObjectName("graph3_3")
        self.gridLayout_3.addWidget(self.graph3_3, 0, 2, 1, 1)
        self.graph3_4 = MplCanvas(self.page_3)
        self.graph3_4.setObjectName("graph3_4")
        self.gridLayout_3.addWidget(self.graph3_4, 1, 0, 1, 1)
        self.graph3_5 = MplCanvas(self.page_3)
        self.graph3_5.setObjectName("graph3_5")
        self.gridLayout_3.addWidget(self.graph3_5, 1, 1, 1, 1)
        self.graph3_6 = MplCanvas(self.page_3)
        self.graph3_6.setObjectName("graph3_6")
        self.gridLayout_3.addWidget(self.graph3_6, 1, 2, 1, 1)

        self.graphBox.addWidget(self.page_3)

        ### Page 4: inputs
        self.page_4 = QtWidgets.QWidget(self.graphBox)
        self.page_4.setObjectName("page_4")
        self.gridLayout_4 = QtWidgets.QGridLayout(self.page_4)
        self.gridLayout_4.setContentsMargins(0, 0, 0, 0)
        self.gridLayout_4.setHorizontalSpacing(10)
        self.gridLayout_4.setVerticalSpacing(10)
        self.gridLayout_4.setObjectName("gridLayout_4")

        self.graph4_1 = MplCanvas(self.page_4)
        self.graph4_1.setObjectName("graph4_1")
        self.gridLayout_4.addWidget(self.graph4_1, 0, 0, 1, 1)
        self.graph4_2 = MplCanvas(self.page_4)
        self.graph4_2.setObjectName("graph4_2")
        self.gridLayout_4.addWidget(self.graph4_2, 0, 1, 1, 1)
        self.graph4_3 = MplCanvas(self.page_4)
        self.graph4_3.setObjectName("graph4_3")
        self.gridLayout_4.addWidget(self.graph4_3, 0, 2, 1, 1)
        self.graph4_4 = MplCanvas(self.page_4)
        self.graph4_4.setObjectName("graph4_4")
        self.gridLayout_4.addWidget(self.graph4_4, 1, 0, 1, 1)
        self.graph4_5 = MplCanvas(self.page_4)
        self.graph4_5.setObjectName("graph4_5")
        self.gridLayout_4.addWidget(self.graph4_5, 1, 1, 1, 1)
        self.graph4_6 = MplCanvas(self.page_4)
        self.graph4_6.setObjectName("graph4_6")
        self.gridLayout_4.addWidget(self.graph4_6, 1, 2, 1, 1)

        self.graphBox.addWidget(self.page_4)

        ### Page 5: trajectory
        self.page_5 = QtWidgets.QWidget(self.graphBox)
        self.page_5.setObjectName("page_5")
        self.gridLayout_5 = QtWidgets.QGridLayout(self.page_5)
        self.gridLayout_5.setContentsMargins(0, 0, 0, 0)
        self.gridLayout_5.setObjectName("gridLayout_5")

        self.graph5_1 = MplCanvas(self.page_5)
        self.graph5_1.setObjectName("graph5_1")
        self.gridLayout_5.addWidget(self.graph5_1, 0, 0, 1, 1)

        self.graphBox.addWidget(self.page_5)



        # third tab (settings)
        self.tab_3 = QtWidgets.QWidget()
        self.tab_3.setObjectName("tab_3")
        self.tabWidget.addTab(self.tab_3, "")
        self.settingsLayout = QtWidgets.QHBoxLayout(self.tab_3)
        self.settingsLayout.setContentsMargins(10, 10, 10, 10)
        self.settingsLayout.setObjectName("settingsLayout")

        ## Dynamics configuration
        self.groupBox = QtWidgets.QGroupBox(self.tab_3)
        self.groupBox.setObjectName("groupBox")
        self.settingsLayout.addWidget(self.groupBox)
        self.settingsLayout.setStretch(0,1)

        self.dynamicsLayout = QtWidgets.QVBoxLayout(self.groupBox)
        self.dynamicsLayout.setContentsMargins(0, 0, 0, 0)
        self.dynamicsLayout.setObjectName("dynamicsLayout")

        ### Physical Parameters
        self.groupBox_3 = QtWidgets.QGroupBox(self.groupBox)
        self.groupBox_3.setObjectName("groupBox_3")
        self.dynamicsLayout.addWidget(self.groupBox_3)
        font = QtGui.QFont()
        font.setPointSize(10)
        self.roll_angle_label_2 = QtWidgets.QLabel(self.groupBox_3)
        self.roll_angle_label_2.setGeometry(QtCore.QRect(20, 40, 81, 21))
        self.roll_angle_label_2.setFont(font)
        self.roll_angle_label_2.setObjectName("roll_angle_label_2")
        self.roll_angle_unit_2 = QtWidgets.QLabel(self.groupBox_3)
        self.roll_angle_unit_2.setGeometry(QtCore.QRect(150, 40, 31, 21))
        self.roll_angle_unit_2.setFont(font)
        self.roll_angle_unit_2.setObjectName("roll_angle_unit_2")
        self.roll_angle_label_3 = QtWidgets.QLabel(self.groupBox_3)
        self.roll_angle_label_3.setGeometry(QtCore.QRect(20, 70, 81, 21))
        self.roll_angle_label_3.setFont(font)
        self.roll_angle_label_3.setObjectName("roll_angle_label_3")
        self.roll_angle_unit_3 = QtWidgets.QLabel(self.groupBox_3)
        self.roll_angle_unit_3.setGeometry(QtCore.QRect(150, 70, 51, 21))
        self.roll_angle_unit_3.setFont(font)
        self.roll_angle_unit_3.setObjectName("roll_angle_unit_3")
        self.doubleSpinBox = QtWidgets.QDoubleSpinBox(self.groupBox_3)
        self.doubleSpinBox.setGeometry(QtCore.QRect(70, 40, 62, 22))
        self.doubleSpinBox.setObjectName("doubleSpinBox")
        self.doubleSpinBox_2 = QtWidgets.QDoubleSpinBox(self.groupBox_3)
        self.doubleSpinBox_2.setGeometry(QtCore.QRect(70, 70, 62, 22))
        self.doubleSpinBox_2.setObjectName("doubleSpinBox_2")
        self.roll_angle_unit_4 = QtWidgets.QLabel(self.groupBox_3)
        self.roll_angle_unit_4.setGeometry(QtCore.QRect(350, 70, 51, 21))
        self.roll_angle_unit_4.setFont(font)
        self.roll_angle_unit_4.setObjectName("roll_angle_unit_4")
        self.doubleSpinBox_3 = QtWidgets.QDoubleSpinBox(self.groupBox_3)
        self.doubleSpinBox_3.setGeometry(QtCore.QRect(270, 70, 62, 22))
        self.doubleSpinBox_3.setObjectName("doubleSpinBox_3")
        self.roll_angle_label_4 = QtWidgets.QLabel(self.groupBox_3)
        self.roll_angle_label_4.setGeometry(QtCore.QRect(220, 70, 81, 21))
        self.roll_angle_label_4.setFont(font)
        self.roll_angle_label_4.setObjectName("roll_angle_label_4")
        self.roll_angle_unit_5 = QtWidgets.QLabel(self.groupBox_3)
        self.roll_angle_unit_5.setGeometry(QtCore.QRect(550, 70, 51, 21))
        self.roll_angle_unit_5.setFont(font)
        self.roll_angle_unit_5.setObjectName("roll_angle_unit_5")
        self.doubleSpinBox_4 = QtWidgets.QDoubleSpinBox(self.groupBox_3)
        self.doubleSpinBox_4.setGeometry(QtCore.QRect(470, 70, 62, 22))
        self.doubleSpinBox_4.setObjectName("doubleSpinBox_4")
        self.roll_angle_label_5 = QtWidgets.QLabel(self.groupBox_3)
        self.roll_angle_label_5.setGeometry(QtCore.QRect(420, 70, 81, 21))
        self.roll_angle_label_5.setFont(font)
        self.roll_angle_label_5.setObjectName("roll_angle_label_5")
        self.doubleSpinBox_5 = QtWidgets.QDoubleSpinBox(self.groupBox_3)
        self.doubleSpinBox_5.setGeometry(QtCore.QRect(270, 100, 62, 22))
        self.doubleSpinBox_5.setObjectName("doubleSpinBox_5")
        self.roll_angle_label_6 = QtWidgets.QLabel(self.groupBox_3)
        self.roll_angle_label_6.setGeometry(QtCore.QRect(420, 100, 81, 21))
        self.roll_angle_label_6.setFont(font)
        self.roll_angle_label_6.setObjectName("roll_angle_label_6")
        self.roll_angle_label_7 = QtWidgets.QLabel(self.groupBox_3)
        self.roll_angle_label_7.setGeometry(QtCore.QRect(220, 100, 81, 21))
        self.roll_angle_label_7.setFont(font)
        self.roll_angle_label_7.setObjectName("roll_angle_label_7")
        self.roll_angle_unit_6 = QtWidgets.QLabel(self.groupBox_3)
        self.roll_angle_unit_6.setGeometry(QtCore.QRect(150, 100, 51, 21))
        self.roll_angle_unit_6.setFont(font)
        self.roll_angle_unit_6.setObjectName("roll_angle_unit_6")
        self.roll_angle_unit_7 = QtWidgets.QLabel(self.groupBox_3)
        self.roll_angle_unit_7.setGeometry(QtCore.QRect(350, 100, 51, 21))
        self.roll_angle_unit_7.setFont(font)
        self.roll_angle_unit_7.setObjectName("roll_angle_unit_7")
        self.doubleSpinBox_6 = QtWidgets.QDoubleSpinBox(self.groupBox_3)
        self.doubleSpinBox_6.setGeometry(QtCore.QRect(70, 100, 62, 22))
        self.doubleSpinBox_6.setObjectName("doubleSpinBox_6")
        self.roll_angle_label_8 = QtWidgets.QLabel(self.groupBox_3)
        self.roll_angle_label_8.setGeometry(QtCore.QRect(20, 100, 81, 21))
        self.roll_angle_label_8.setFont(font)
        self.roll_angle_label_8.setObjectName("roll_angle_label_8")
        self.doubleSpinBox_7 = QtWidgets.QDoubleSpinBox(self.groupBox_3)
        self.doubleSpinBox_7.setGeometry(QtCore.QRect(470, 100, 62, 22))
        self.doubleSpinBox_7.setObjectName("doubleSpinBox_7")
        self.roll_angle_unit_8 = QtWidgets.QLabel(self.groupBox_3)
        self.roll_angle_unit_8.setGeometry(QtCore.QRect(550, 100, 51, 21))
        self.roll_angle_unit_8.setFont(font)
        self.roll_angle_unit_8.setObjectName("roll_angle_unit_8")
        self.roll_angle_unit_11 = QtWidgets.QLabel(self.groupBox_3)
        self.roll_angle_unit_11.setGeometry(QtCore.QRect(550, 130, 51, 21))
        self.roll_angle_unit_11.setFont(font)
        self.roll_angle_unit_11.setObjectName("roll_angle_unit_11")
        self.roll_angle_label_9 = QtWidgets.QLabel(self.groupBox_3)
        self.roll_angle_label_9.setGeometry(QtCore.QRect(220, 130, 81, 21))
        self.roll_angle_label_9.setFont(font)
        self.roll_angle_label_9.setObjectName("roll_angle_label_9")
        self.roll_angle_label_11 = QtWidgets.QLabel(self.groupBox_3)
        self.roll_angle_label_11.setGeometry(QtCore.QRect(420, 130, 81, 21))
        self.roll_angle_label_11.setFont(font)
        self.roll_angle_label_11.setObjectName("roll_angle_label_11")
        self.doubleSpinBox_9 = QtWidgets.QDoubleSpinBox(self.groupBox_3)
        self.doubleSpinBox_9.setGeometry(QtCore.QRect(70, 130, 62, 22))
        self.doubleSpinBox_9.setObjectName("doubleSpinBox_9")
        self.roll_angle_unit_10 = QtWidgets.QLabel(self.groupBox_3)
        self.roll_angle_unit_10.setGeometry(QtCore.QRect(350, 130, 51, 21))
        self.roll_angle_unit_10.setFont(font)
        self.roll_angle_unit_10.setObjectName("roll_angle_unit_10")
        self.roll_angle_unit_9 = QtWidgets.QLabel(self.groupBox_3)
        self.roll_angle_unit_9.setGeometry(QtCore.QRect(150, 130, 51, 21))
        self.roll_angle_unit_9.setFont(font)
        self.roll_angle_unit_9.setObjectName("roll_angle_unit_9")
        self.doubleSpinBox_8 = QtWidgets.QDoubleSpinBox(self.groupBox_3)
        self.doubleSpinBox_8.setGeometry(QtCore.QRect(470, 130, 62, 22))
        self.doubleSpinBox_8.setObjectName("doubleSpinBox_8")
        self.doubleSpinBox_10 = QtWidgets.QDoubleSpinBox(self.groupBox_3)
        self.doubleSpinBox_10.setGeometry(QtCore.QRect(270, 130, 62, 22))
        self.doubleSpinBox_10.setObjectName("doubleSpinBox_10")
        self.roll_angle_label_10 = QtWidgets.QLabel(self.groupBox_3)
        self.roll_angle_label_10.setGeometry(QtCore.QRect(20, 130, 81, 21))
        self.roll_angle_label_10.setFont(font)
        self.roll_angle_label_10.setObjectName("roll_angle_label_10")
        self.roll_angle_label_12 = QtWidgets.QLabel(self.groupBox_3)
        self.roll_angle_label_12.setGeometry(QtCore.QRect(20, 160, 81, 21))
        self.roll_angle_label_12.setFont(font)
        self.roll_angle_label_12.setObjectName("roll_angle_label_12")
        self.doubleSpinBox_11 = QtWidgets.QDoubleSpinBox(self.groupBox_3)
        self.doubleSpinBox_11.setGeometry(QtCore.QRect(70, 160, 62, 22))
        self.doubleSpinBox_11.setObjectName("doubleSpinBox_11")
        self.roll_angle_unit_12 = QtWidgets.QLabel(self.groupBox_3)
        self.roll_angle_unit_12.setGeometry(QtCore.QRect(150, 160, 31, 21))
        self.roll_angle_unit_12.setFont(font)
        self.roll_angle_unit_12.setObjectName("roll_angle_unit_12")
        font = QtGui.QFont()
        font.setPointSize(8)
        self.roll_angle_label_20 = QtWidgets.QLabel(self.groupBox_3)
        self.roll_angle_label_20.setGeometry(QtCore.QRect(210, 160, 261, 21))
        self.roll_angle_label_20.setFont(font)
        self.roll_angle_label_20.setObjectName("roll_angle_label_20")

        ## Aerodynamic Parameters
        self.groupBox_4 = QtWidgets.QGroupBox(self.groupBox)
        self.groupBox_4.setObjectName("groupBox_4")
        self.dynamicsLayout.addWidget(self.groupBox_4)
        self.dynamicsLayout.setSpacing(10)
        self.dynamicsLayout.setContentsMargins(10, 0, 10, 10)
        font = QtGui.QFont()
        font.setPointSize(10)
        self.roll_angle_label_13 = QtWidgets.QLabel(self.groupBox_4)
        self.roll_angle_label_13.setGeometry(QtCore.QRect(20, 30, 81, 21))
        self.roll_angle_label_13.setFont(font)
        self.roll_angle_label_13.setObjectName("roll_angle_label_13")
        self.doubleSpinBox_12 = QtWidgets.QDoubleSpinBox(self.groupBox_4)
        self.doubleSpinBox_12.setGeometry(QtCore.QRect(70, 30, 62, 22))
        self.doubleSpinBox_12.setObjectName("doubleSpinBox_12")
        self.roll_angle_unit_13 = QtWidgets.QLabel(self.groupBox_4)
        self.roll_angle_unit_13.setGeometry(QtCore.QRect(150, 30, 61, 21))
        self.roll_angle_unit_13.setFont(font)
        self.roll_angle_unit_13.setObjectName("roll_angle_unit_13")
        self.roll_angle_unit_14 = QtWidgets.QLabel(self.groupBox_4)
        self.roll_angle_unit_14.setGeometry(QtCore.QRect(150, 60, 51, 21))
        self.roll_angle_unit_14.setFont(font)
        self.roll_angle_unit_14.setObjectName("roll_angle_unit_14")
        self.doubleSpinBox_13 = QtWidgets.QDoubleSpinBox(self.groupBox_4)
        self.doubleSpinBox_13.setGeometry(QtCore.QRect(70, 120, 62, 22))
        self.doubleSpinBox_13.setObjectName("doubleSpinBox_13")
        self.roll_angle_label_14 = QtWidgets.QLabel(self.groupBox_4)
        self.roll_angle_label_14.setGeometry(QtCore.QRect(20, 150, 81, 21))
        self.roll_angle_label_14.setFont(font)
        self.roll_angle_label_14.setObjectName("roll_angle_label_14")
        self.roll_angle_label_15 = QtWidgets.QLabel(self.groupBox_4)
        self.roll_angle_label_15.setGeometry(QtCore.QRect(20, 90, 81, 21))
        self.roll_angle_label_15.setFont(font)
        self.roll_angle_label_15.setObjectName("roll_angle_label_15")
        self.doubleSpinBox_14 = QtWidgets.QDoubleSpinBox(self.groupBox_4)
        self.doubleSpinBox_14.setGeometry(QtCore.QRect(70, 60, 62, 22))
        self.doubleSpinBox_14.setObjectName("doubleSpinBox_14")
        self.roll_angle_unit_15 = QtWidgets.QLabel(self.groupBox_4)
        self.roll_angle_unit_15.setGeometry(QtCore.QRect(150, 90, 51, 21))
        self.roll_angle_unit_15.setFont(font)
        self.roll_angle_unit_15.setObjectName("roll_angle_unit_15")
        self.roll_angle_label_16 = QtWidgets.QLabel(self.groupBox_4)
        self.roll_angle_label_16.setGeometry(QtCore.QRect(20, 60, 81, 21))
        self.roll_angle_label_16.setFont(font)
        self.roll_angle_label_16.setObjectName("roll_angle_label_16")
        self.doubleSpinBox_15 = QtWidgets.QDoubleSpinBox(self.groupBox_4)
        self.doubleSpinBox_15.setGeometry(QtCore.QRect(70, 90, 62, 22))
        self.doubleSpinBox_15.setObjectName("doubleSpinBox_15")
        self.roll_angle_unit_16 = QtWidgets.QLabel(self.groupBox_4)
        self.roll_angle_unit_16.setGeometry(QtCore.QRect(150, 120, 51, 21))
        self.roll_angle_unit_16.setFont(font)
        self.roll_angle_unit_16.setObjectName("roll_angle_unit_16")
        self.doubleSpinBox_16 = QtWidgets.QDoubleSpinBox(self.groupBox_4)
        self.doubleSpinBox_16.setGeometry(QtCore.QRect(70, 150, 62, 22))
        self.doubleSpinBox_16.setObjectName("doubleSpinBox_16")
        self.roll_angle_label_17 = QtWidgets.QLabel(self.groupBox_4)
        self.roll_angle_label_17.setGeometry(QtCore.QRect(20, 120, 81, 21))
        self.roll_angle_label_17.setFont(font)
        self.roll_angle_label_17.setObjectName("roll_angle_label_17")
        self.roll_angle_unit_17 = QtWidgets.QLabel(self.groupBox_4)
        self.roll_angle_unit_17.setGeometry(QtCore.QRect(150, 150, 31, 21))
        self.roll_angle_unit_17.setFont(font)
        self.roll_angle_unit_17.setObjectName("roll_angle_unit_17")
        font = QtGui.QFont()
        font.setPointSize(8)
        self.roll_angle_label_18 = QtWidgets.QLabel(self.groupBox_4)
        self.roll_angle_label_18.setGeometry(QtCore.QRect(210, 30, 251, 21))
        self.roll_angle_label_18.setFont(font)
        self.roll_angle_label_18.setObjectName("roll_angle_label_18")
        self.roll_angle_label_19 = QtWidgets.QLabel(self.groupBox_4)
        self.roll_angle_label_19.setGeometry(QtCore.QRect(210, 150, 261, 21))
        self.roll_angle_label_19.setFont(font)
        self.roll_angle_label_19.setObjectName("roll_angle_label_19")

        ### Thrust Parameters
        self.groupBox_5 = QtWidgets.QGroupBox(self.groupBox)
        self.groupBox_5.setObjectName("groupBox_5")
        self.dynamicsLayout.addWidget(self.groupBox_5)
        font = QtGui.QFont()
        font.setPointSize(10)
        self.roll_angle_unit_18 = QtWidgets.QLabel(self.groupBox_5)
        self.roll_angle_unit_18.setGeometry(QtCore.QRect(150, 30, 91, 21))
        self.roll_angle_unit_18.setFont(font)
        self.roll_angle_unit_18.setObjectName("roll_angle_unit_18")
        self.doubleSpinBox_17 = QtWidgets.QDoubleSpinBox(self.groupBox_5)
        self.doubleSpinBox_17.setGeometry(QtCore.QRect(70, 30, 62, 22))
        self.doubleSpinBox_17.setObjectName("doubleSpinBox_17")
        self.roll_angle_label_21 = QtWidgets.QLabel(self.groupBox_5)
        self.roll_angle_label_21.setGeometry(QtCore.QRect(20, 30, 81, 21))
        self.roll_angle_label_21.setFont(font)
        self.roll_angle_label_21.setObjectName("roll_angle_label_21")
        self.roll_angle_label_22 = QtWidgets.QLabel(self.groupBox_5)
        self.roll_angle_label_22.setGeometry(QtCore.QRect(340, 30, 81, 21))
        self.roll_angle_label_22.setFont(font)
        self.roll_angle_label_22.setObjectName("roll_angle_label_22")
        self.doubleSpinBox_18 = QtWidgets.QDoubleSpinBox(self.groupBox_5)
        self.doubleSpinBox_18.setGeometry(QtCore.QRect(390, 30, 62, 22))
        self.doubleSpinBox_18.setObjectName("doubleSpinBox_18")
        self.roll_angle_unit_19 = QtWidgets.QLabel(self.groupBox_5)
        self.roll_angle_unit_19.setGeometry(QtCore.QRect(470, 30, 91, 21))
        self.roll_angle_unit_19.setFont(font)
        self.roll_angle_unit_19.setObjectName("roll_angle_unit_19")
        self.roll_angle_label_24 = QtWidgets.QLabel(self.groupBox_5)
        self.roll_angle_label_24.setGeometry(QtCore.QRect(20, 60, 81, 21))
        self.roll_angle_label_24.setFont(font)
        self.roll_angle_label_24.setObjectName("roll_angle_label_24")
        self.doubleSpinBox_19 = QtWidgets.QDoubleSpinBox(self.groupBox_5)
        self.doubleSpinBox_19.setGeometry(QtCore.QRect(70, 60, 62, 22))
        self.doubleSpinBox_19.setObjectName("doubleSpinBox_19")
        self.roll_angle_label_25 = QtWidgets.QLabel(self.groupBox_5)
        self.roll_angle_label_25.setGeometry(QtCore.QRect(340, 60, 81, 21))
        self.roll_angle_label_25.setFont(font)
        self.roll_angle_label_25.setObjectName("roll_angle_label_25")
        self.doubleSpinBox_20 = QtWidgets.QDoubleSpinBox(self.groupBox_5)
        self.doubleSpinBox_20.setGeometry(QtCore.QRect(390, 60, 62, 22))
        self.doubleSpinBox_20.setObjectName("doubleSpinBox_20")
        self.roll_angle_unit_20 = QtWidgets.QLabel(self.groupBox_5)
        self.roll_angle_unit_20.setGeometry(QtCore.QRect(470, 60, 91, 21))
        self.roll_angle_unit_20.setFont(font)
        self.roll_angle_unit_20.setObjectName("roll_angle_unit_20")
        self.roll_angle_unit_21 = QtWidgets.QLabel(self.groupBox_5)
        self.roll_angle_unit_21.setGeometry(QtCore.QRect(150, 60, 91, 21))
        self.roll_angle_unit_21.setFont(font)
        self.roll_angle_unit_21.setObjectName("roll_angle_unit_21")
        self.roll_angle_unit_22 = QtWidgets.QLabel(self.groupBox_5)
        self.roll_angle_unit_22.setGeometry(QtCore.QRect(260, 140, 31, 21))
        self.roll_angle_unit_22.setFont(font)
        self.roll_angle_unit_22.setObjectName("roll_angle_unit_22")
        self.roll_angle_label_27 = QtWidgets.QLabel(self.groupBox_5)
        self.roll_angle_label_27.setGeometry(QtCore.QRect(20, 110, 161, 21))
        self.roll_angle_label_27.setFont(font)
        self.roll_angle_label_27.setObjectName("roll_angle_label_27")
        self.doubleSpinBox_21 = QtWidgets.QDoubleSpinBox(self.groupBox_5)
        self.doubleSpinBox_21.setGeometry(QtCore.QRect(180, 110, 62, 22))
        self.doubleSpinBox_21.setObjectName("doubleSpinBox_21")
        self.doubleSpinBox_22 = QtWidgets.QDoubleSpinBox(self.groupBox_5)
        self.doubleSpinBox_22.setGeometry(QtCore.QRect(180, 140, 62, 22))
        self.doubleSpinBox_22.setObjectName("doubleSpinBox_22")
        self.roll_angle_unit_23 = QtWidgets.QLabel(self.groupBox_5)
        self.roll_angle_unit_23.setGeometry(QtCore.QRect(260, 110, 31, 21))
        self.roll_angle_unit_23.setFont(font)
        self.roll_angle_unit_23.setObjectName("roll_angle_unit_23")
        self.roll_angle_label_28 = QtWidgets.QLabel(self.groupBox_5)
        self.roll_angle_label_28.setGeometry(QtCore.QRect(20, 140, 151, 21))
        self.roll_angle_label_28.setFont(font)
        self.roll_angle_label_28.setObjectName("roll_angle_label_28")
        self.roll_angle_unit_24 = QtWidgets.QLabel(self.groupBox_5)
        self.roll_angle_unit_24.setGeometry(QtCore.QRect(260, 170, 31, 21))
        self.roll_angle_unit_24.setFont(font)
        self.roll_angle_unit_24.setObjectName("roll_angle_unit_24")
        self.doubleSpinBox_23 = QtWidgets.QDoubleSpinBox(self.groupBox_5)
        self.doubleSpinBox_23.setGeometry(QtCore.QRect(180, 170, 62, 22))
        self.doubleSpinBox_23.setObjectName("doubleSpinBox_23")
        self.roll_angle_label_29 = QtWidgets.QLabel(self.groupBox_5)
        self.roll_angle_label_29.setGeometry(QtCore.QRect(20, 170, 151, 21))
        self.roll_angle_label_29.setFont(font)
        self.roll_angle_label_29.setObjectName("roll_angle_label_29")
        font = QtGui.QFont()
        font.setPointSize(8)
        self.roll_angle_label_23 = QtWidgets.QLabel(self.groupBox_5)
        self.roll_angle_label_23.setGeometry(QtCore.QRect(30, 80, 161, 21))
        self.roll_angle_label_23.setFont(font)
        self.roll_angle_label_23.setObjectName("roll_angle_label_23")
        self.roll_angle_label_26 = QtWidgets.QLabel(self.groupBox_5)
        self.roll_angle_label_26.setGeometry(QtCore.QRect(350, 80, 181, 21))
        self.roll_angle_label_26.setFont(font)
        self.roll_angle_label_26.setObjectName("roll_angle_label_26")

        ## Controls and actuator configuration
        self.controlsactuatorLayoutWidget = QtWidgets.QWidget(self.tab_3)
        self.controlsactuatorLayoutWidget.setObjectName("controlsactuatorLayoutWidget")
        self.settingsLayout.addWidget(self.controlsactuatorLayoutWidget)
        self.settingsLayout.setStretch(1, 1)

        self.controlsactuatorLayout = QtWidgets.QVBoxLayout(self.controlsactuatorLayoutWidget)
        self.controlsactuatorLayout.setObjectName("controlsactuatorLayout")
        self.controlsactuatorLayout.setContentsMargins(0, 0, 0, 0)

        ### Controls
        self.groupBox_2 = QtWidgets.QGroupBox(self.controlsactuatorLayoutWidget)
        self.groupBox_2.setObjectName("groupBox_2")
        self.controlsactuatorLayout.addWidget(self.groupBox_2)
        self.controlsactuatorLayout.setStretch(0, 2)

        self.controlsLayout = QtWidgets.QVBoxLayout(self.groupBox_2)
        self.controlsLayout.setObjectName("controlsLayout")
        self.controlsLayout.setContentsMargins(0, 0, 0, 0)
        self.controlsLayout.setSpacing(0)

        # Widget Buttons
        self.buttonLayoutWidget = QtWidgets.QWidget(self.groupBox_2)
        self.buttonLayoutWidget.setObjectName("buttonLayoutWidget")
        self.controlsLayout.addWidget(self.buttonLayoutWidget)
        self.controlsLayout.setStretch(0, 0)
        self.buttonLayout = QtWidgets.QHBoxLayout(self.buttonLayoutWidget)
        self.buttonLayout.setObjectName("buttonLayout")
        self.buttonLayout.setContentsMargins(10, 10, 10, 0)
        self.pushButton_1 = QtWidgets.QPushButton(self.buttonLayoutWidget)
        self.pushButton_1.setObjectName("pushButton_1")
        self.buttonLayout.addWidget(self.pushButton_1)
        self.pushButton_2 = QtWidgets.QLabel(self.buttonLayoutWidget)
        self.pushButton_2.setFrameShape(QtWidgets.QFrame.Box)
        self.pushButton_2.setFrameShadow(QtWidgets.QFrame.Plain)
        self.pushButton_2.setAlignment(QtCore.Qt.AlignCenter)
        self.pushButton_2.setObjectName("pushButton_2")
        self.buttonLayout.addWidget(self.pushButton_2)
        self.pushButton_3 = QtWidgets.QPushButton(self.buttonLayoutWidget)
        self.pushButton_3.setObjectName("pushButton_3")
        self.buttonLayout.addWidget(self.pushButton_3)

        # Stacked widgets
        self.stackedWidget = QtWidgets.QStackedWidget(self.groupBox_2)
        self.stackedWidget.setObjectName("stackedWidget")
        self.controlsLayout.addWidget(self.stackedWidget)
        self.controlsLayout.setStretch(1, 1)

        #### Controls Page 1
        self.page = QtWidgets.QWidget()
        self.page.setObjectName("page")
        self.stackedWidget.addWidget(self.page)

        self.label = QtWidgets.QLabel(self.page)
        self.label.setGeometry(QtCore.QRect(30, 10, 71, 20))
        font = QtGui.QFont()
        font.setUnderline(True)
        self.label.setFont(font)
        self.label.setObjectName("label")
        self.doubleSpinBox_24 = QtWidgets.QDoubleSpinBox(self.page)
        self.doubleSpinBox_24.setGeometry(QtCore.QRect(320, 40, 62, 22))
        self.doubleSpinBox_24.setObjectName("doubleSpinBox_24")
        self.doubleSpinBox_25 = QtWidgets.QDoubleSpinBox(self.page)
        self.doubleSpinBox_25.setGeometry(QtCore.QRect(120, 40, 62, 22))
        self.doubleSpinBox_25.setObjectName("doubleSpinBox_25")
        self.doubleSpinBox_26 = QtWidgets.QDoubleSpinBox(self.page)
        self.doubleSpinBox_26.setGeometry(QtCore.QRect(520, 40, 62, 22))
        self.doubleSpinBox_26.setObjectName("doubleSpinBox_26")
        self.doubleSpinBox_39 = QtWidgets.QDoubleSpinBox(self.page)
        self.doubleSpinBox_39.setGeometry(QtCore.QRect(520, 80, 62, 22))
        self.doubleSpinBox_39.setObjectName("doubleSpinBox_39")
        self.doubleSpinBox_40 = QtWidgets.QDoubleSpinBox(self.page)
        self.doubleSpinBox_40.setGeometry(QtCore.QRect(320, 80, 62, 22))
        self.doubleSpinBox_40.setObjectName("doubleSpinBox_40")
        self.doubleSpinBox_41 = QtWidgets.QDoubleSpinBox(self.page)
        self.doubleSpinBox_41.setGeometry(QtCore.QRect(120, 80, 62, 22))
        self.doubleSpinBox_41.setObjectName("doubleSpinBox_41")
        self.doubleSpinBox_42 = QtWidgets.QDoubleSpinBox(self.page)
        self.doubleSpinBox_42.setGeometry(QtCore.QRect(520, 120, 62, 22))
        self.doubleSpinBox_42.setObjectName("doubleSpinBox_42")
        self.doubleSpinBox_43 = QtWidgets.QDoubleSpinBox(self.page)
        self.doubleSpinBox_43.setGeometry(QtCore.QRect(320, 120, 62, 22))
        self.doubleSpinBox_43.setObjectName("doubleSpinBox_43")
        self.doubleSpinBox_44 = QtWidgets.QDoubleSpinBox(self.page)
        self.doubleSpinBox_44.setGeometry(QtCore.QRect(120, 120, 62, 22))
        self.doubleSpinBox_44.setObjectName("doubleSpinBox_44")
        font = QtGui.QFont()
        font.setPointSize(9)
        font.setBold(True)
        font.setWeight(75)
        self.roll_angle_label_46 = QtWidgets.QLabel(self.page)
        self.roll_angle_label_46.setGeometry(QtCore.QRect(30, 40, 21, 21))
        self.roll_angle_label_46.setFont(font)
        self.roll_angle_label_46.setObjectName("roll_angle_label_46")
        self.roll_angle_label_50 = QtWidgets.QLabel(self.page)
        self.roll_angle_label_50.setGeometry(QtCore.QRect(30, 80, 21, 21))
        self.roll_angle_label_50.setFont(font)
        self.roll_angle_label_50.setObjectName("roll_angle_label_50")
        self.roll_angle_label_54 = QtWidgets.QLabel(self.page)
        self.roll_angle_label_54.setGeometry(QtCore.QRect(30, 120, 21, 21))
        self.roll_angle_label_54.setFont(font)
        self.roll_angle_label_54.setObjectName("roll_angle_label_54")
        font = QtGui.QFont()
        font.setPointSize(9)
        self.label_kd = QtWidgets.QLabel(self.page)
        self.label_kd.setGeometry(QtCore.QRect(470, 40, 81, 21))
        self.label_kd.setFont(font)
        self.label_kd.setObjectName("label_kd")
        self.label_ki = QtWidgets.QLabel(self.page)
        self.label_ki.setGeometry(QtCore.QRect(270, 40, 81, 21))
        self.label_ki.setFont(font)
        self.label_ki.setObjectName("label_ki")
        self.label_kp = QtWidgets.QLabel(self.page)
        self.label_kp.setGeometry(QtCore.QRect(70, 40, 81, 21))
        self.label_kp.setFont(font)
        self.label_kp.setObjectName("label_kp")
        self.roll_angle_label_47 = QtWidgets.QLabel(self.page)
        self.roll_angle_label_47.setGeometry(QtCore.QRect(470, 80, 81, 21))
        self.roll_angle_label_47.setFont(font)
        self.roll_angle_label_47.setObjectName("roll_angle_label_47")
        self.roll_angle_label_48 = QtWidgets.QLabel(self.page)
        self.roll_angle_label_48.setGeometry(QtCore.QRect(270, 80, 81, 21))
        self.roll_angle_label_48.setFont(font)
        self.roll_angle_label_48.setObjectName("roll_angle_label_48")
        self.roll_angle_label_49 = QtWidgets.QLabel(self.page)
        self.roll_angle_label_49.setGeometry(QtCore.QRect(70, 80, 81, 21))
        self.roll_angle_label_49.setFont(font)
        self.roll_angle_label_49.setObjectName("roll_angle_label_49")
        self.roll_angle_label_51 = QtWidgets.QLabel(self.page)
        self.roll_angle_label_51.setGeometry(QtCore.QRect(470, 120, 81, 21))
        self.roll_angle_label_51.setFont(font)
        self.roll_angle_label_51.setObjectName("roll_angle_label_51")
        self.roll_angle_label_52 = QtWidgets.QLabel(self.page)
        self.roll_angle_label_52.setGeometry(QtCore.QRect(270, 120, 81, 21))
        self.roll_angle_label_52.setFont(font)
        self.roll_angle_label_52.setObjectName("roll_angle_label_52")
        self.roll_angle_label_53 = QtWidgets.QLabel(self.page)
        self.roll_angle_label_53.setGeometry(QtCore.QRect(70, 120, 81, 21))
        self.roll_angle_label_53.setFont(font)
        self.roll_angle_label_53.setObjectName("roll_angle_label_53")
        self.label_2 = QtWidgets.QLabel(self.page)
        self.label_2.setGeometry(QtCore.QRect(30, 155, 80, 20))
        font = QtGui.QFont()
        font.setUnderline(True)
        self.label_2.setFont(font)
        self.label_2.setObjectName("label_2")
        font = QtGui.QFont()
        font.setPointSize(9)
        self.roll_angle_label_36 = QtWidgets.QLabel(self.page)
        self.roll_angle_label_36.setGeometry(QtCore.QRect(50, 185, 131, 21))
        self.roll_angle_label_36.setFont(font)
        self.roll_angle_label_36.setObjectName("roll_angle_label_36")
        self.roll_angle_label_37 = QtWidgets.QLabel(self.page)
        self.roll_angle_label_37.setGeometry(QtCore.QRect(310, 185, 161, 21))
        self.roll_angle_label_37.setFont(font)
        self.roll_angle_label_37.setObjectName("roll_angle_label_37")
        self.roll_angle_label_38 = QtWidgets.QLabel(self.page)
        self.roll_angle_label_38.setGeometry(QtCore.QRect(310, 215, 161, 21))
        self.roll_angle_label_38.setFont(font)
        self.roll_angle_label_38.setObjectName("roll_angle_label_38")
        self.roll_angle_label_39 = QtWidgets.QLabel(self.page)
        self.roll_angle_label_39.setGeometry(QtCore.QRect(50, 215, 131, 21))
        self.roll_angle_label_39.setFont(font)
        self.roll_angle_label_39.setObjectName("roll_angle_label_39")
        self.roll_angle_label_56 = QtWidgets.QLabel(self.page)
        self.roll_angle_label_56.setGeometry(QtCore.QRect(270, 185, 31, 21))
        self.roll_angle_label_56.setFont(font)
        self.roll_angle_label_56.setObjectName("roll_angle_label_56")
        self.roll_angle_label_57 = QtWidgets.QLabel(self.page)
        self.roll_angle_label_57.setGeometry(QtCore.QRect(270, 215, 31, 21))
        self.roll_angle_label_57.setFont(font)
        self.roll_angle_label_57.setObjectName("roll_angle_label_57")
        self.roll_angle_label_58 = QtWidgets.QLabel(self.page)
        self.roll_angle_label_58.setGeometry(QtCore.QRect(560, 215, 51, 21))
        self.roll_angle_label_58.setFont(font)
        self.roll_angle_label_58.setObjectName("roll_angle_label_58")
        self.roll_angle_label_59 = QtWidgets.QLabel(self.page)
        self.roll_angle_label_59.setGeometry(QtCore.QRect(560, 185, 51, 21))
        self.roll_angle_label_59.setFont(font)
        self.roll_angle_label_59.setObjectName("roll_angle_label_59")
        self.doubleSpinBox_29 = QtWidgets.QDoubleSpinBox(self.page)
        self.doubleSpinBox_29.setGeometry(QtCore.QRect(190, 185, 62, 22))
        self.doubleSpinBox_29.setObjectName("doubleSpinBox_29")
        self.doubleSpinBox_30 = QtWidgets.QDoubleSpinBox(self.page)
        self.doubleSpinBox_30.setGeometry(QtCore.QRect(480, 185, 62, 22))
        self.doubleSpinBox_30.setObjectName("doubleSpinBox_30")
        self.doubleSpinBox_31 = QtWidgets.QDoubleSpinBox(self.page)
        self.doubleSpinBox_31.setGeometry(QtCore.QRect(190, 215, 62, 22))
        self.doubleSpinBox_31.setObjectName("doubleSpinBox_31")
        self.doubleSpinBox_32 = QtWidgets.QDoubleSpinBox(self.page)
        self.doubleSpinBox_32.setGeometry(QtCore.QRect(480, 215, 62, 22))
        self.doubleSpinBox_32.setObjectName("doubleSpinBox_32")
        self.label_3 = QtWidgets.QLabel(self.page)
        self.label_3.setGeometry(QtCore.QRect(30, 245, 71, 20))
        font = QtGui.QFont()
        font.setUnderline(True)
        self.label_3.setFont(font)
        self.label_3.setObjectName("label_3")
        self.doubleSpinBox_38 = QtWidgets.QDoubleSpinBox(self.page)
        self.doubleSpinBox_38.setGeometry(QtCore.QRect(190, 275, 62, 22))
        self.doubleSpinBox_38.setObjectName("doubleSpinBox_38")
        font = QtGui.QFont()
        font.setPointSize(9)
        self.roll_angle_label_45 = QtWidgets.QLabel(self.page)
        self.roll_angle_label_45.setGeometry(QtCore.QRect(50, 275, 131, 21))
        self.roll_angle_label_45.setFont(font)
        self.roll_angle_label_45.setObjectName("roll_angle_label_45")
        self.roll_angle_unit_25 = QtWidgets.QLabel(self.page)
        self.roll_angle_unit_25.setGeometry(QtCore.QRect(270, 275, 51, 21))
        self.roll_angle_unit_25.setFont(font)
        self.roll_angle_unit_25.setObjectName("roll_angle_unit_25")
        self.label_7 = QtWidgets.QLabel(self.page)
        self.label_7.setGeometry(QtCore.QRect(30, 305, 100, 20))
        font = QtGui.QFont()
        font.setUnderline(True)
        self.label_7.setFont(font)
        self.label_7.setObjectName("label_7")
        self.doubleSpinBox_45 = QtWidgets.QDoubleSpinBox(self.page)
        self.doubleSpinBox_45.setGeometry(QtCore.QRect(190, 335, 62, 22))
        self.doubleSpinBox_45.setObjectName("doubleSpinBox_45")
        self.roll_angle_label_55 = QtWidgets.QLabel(self.page)
        self.roll_angle_label_55.setGeometry(QtCore.QRect(50, 335, 131, 21))
        font = QtGui.QFont()
        font.setPointSize(9)
        self.roll_angle_label_55.setFont(font)
        self.roll_angle_label_55.setObjectName("roll_angle_label_55")

        #### Controls Page 2
        # self.page_2 = QtWidgets.QWidget()
        # self.page_2.setObjectName("page_2")
        # self.verticalLayoutWidget_3 = QtWidgets.QWidget(self.page_2)
        # self.verticalLayoutWidget_3.setGeometry(QtCore.QRect(0, -1, 631, 391))
        # self.verticalLayoutWidget_3.setObjectName("verticalLayoutWidget_3")
        # self.verticalLayout_6 = QtWidgets.QVBoxLayout(self.verticalLayoutWidget_3)
        # self.verticalLayout_6.setContentsMargins(0, 0, 0, 0)
        # self.verticalLayout_6.setObjectName("verticalLayout_6")
        # self.groupBox_10 = QtWidgets.QGroupBox(self.verticalLayoutWidget_3)
        # font = QtGui.QFont()
        # font.setPointSize(9)
        # self.groupBox_10.setFont(font)
        # self.groupBox_10.setObjectName("groupBox_10")
        # self.doubleSpinBox_46 = QtWidgets.QDoubleSpinBox(self.groupBox_10)
        # self.doubleSpinBox_46.setGeometry(QtCore.QRect(320, 60, 62, 22))
        # self.doubleSpinBox_46.setObjectName("doubleSpinBox_46")
        # self.roll_angle_label_60 = QtWidgets.QLabel(self.groupBox_10)
        # self.roll_angle_label_60.setGeometry(QtCore.QRect(470, 60, 81, 21))
        # font = QtGui.QFont()
        # font.setPointSize(9)
        # self.roll_angle_label_60.setFont(font)
        # self.roll_angle_label_60.setObjectName("roll_angle_label_60")
        # self.roll_angle_label_61 = QtWidgets.QLabel(self.groupBox_10)
        # self.roll_angle_label_61.setGeometry(QtCore.QRect(270, 60, 81, 21))
        # font = QtGui.QFont()
        # font.setPointSize(9)
        # self.roll_angle_label_61.setFont(font)
        # self.roll_angle_label_61.setObjectName("roll_angle_label_61")
        # self.doubleSpinBox_47 = QtWidgets.QDoubleSpinBox(self.groupBox_10)
        # self.doubleSpinBox_47.setGeometry(QtCore.QRect(120, 60, 62, 22))
        # self.doubleSpinBox_47.setObjectName("doubleSpinBox_47")
        # self.roll_angle_label_62 = QtWidgets.QLabel(self.groupBox_10)
        # self.roll_angle_label_62.setGeometry(QtCore.QRect(70, 60, 81, 21))
        # font = QtGui.QFont()
        # font.setPointSize(9)
        # self.roll_angle_label_62.setFont(font)
        # self.roll_angle_label_62.setObjectName("roll_angle_label_62")
        # self.doubleSpinBox_48 = QtWidgets.QDoubleSpinBox(self.groupBox_10)
        # self.doubleSpinBox_48.setGeometry(QtCore.QRect(520, 60, 62, 22))
        # self.doubleSpinBox_48.setObjectName("doubleSpinBox_48")
        # self.label_8 = QtWidgets.QLabel(self.groupBox_10)
        # self.label_8.setGeometry(QtCore.QRect(30, 30, 71, 16))
        # font = QtGui.QFont()
        # font.setUnderline(True)
        # self.label_8.setFont(font)
        # self.label_8.setObjectName("label_8")
        # self.label_9 = QtWidgets.QLabel(self.groupBox_10)
        # self.label_9.setGeometry(QtCore.QRect(30, 180, 71, 16))
        # font = QtGui.QFont()
        # font.setUnderline(True)
        # self.label_9.setFont(font)
        # self.label_9.setObjectName("label_9")
        # self.roll_angle_label_63 = QtWidgets.QLabel(self.groupBox_10)
        # self.roll_angle_label_63.setGeometry(QtCore.QRect(50, 210, 131, 21))
        # font = QtGui.QFont()
        # font.setPointSize(9)
        # self.roll_angle_label_63.setFont(font)
        # self.roll_angle_label_63.setObjectName("roll_angle_label_63")
        # self.doubleSpinBox_49 = QtWidgets.QDoubleSpinBox(self.groupBox_10)
        # self.doubleSpinBox_49.setGeometry(QtCore.QRect(190, 210, 62, 22))
        # self.doubleSpinBox_49.setObjectName("doubleSpinBox_49")
        # self.doubleSpinBox_50 = QtWidgets.QDoubleSpinBox(self.groupBox_10)
        # self.doubleSpinBox_50.setGeometry(QtCore.QRect(500, 210, 62, 22))
        # self.doubleSpinBox_50.setObjectName("doubleSpinBox_50")
        # self.roll_angle_label_64 = QtWidgets.QLabel(self.groupBox_10)
        # self.roll_angle_label_64.setGeometry(QtCore.QRect(330, 210, 161, 21))
        # font = QtGui.QFont()
        # font.setPointSize(9)
        # self.roll_angle_label_64.setFont(font)
        # self.roll_angle_label_64.setObjectName("roll_angle_label_64")
        # self.doubleSpinBox_51 = QtWidgets.QDoubleSpinBox(self.groupBox_10)
        # self.doubleSpinBox_51.setGeometry(QtCore.QRect(190, 240, 62, 22))
        # self.doubleSpinBox_51.setObjectName("doubleSpinBox_51")
        # self.roll_angle_label_65 = QtWidgets.QLabel(self.groupBox_10)
        # self.roll_angle_label_65.setGeometry(QtCore.QRect(330, 240, 161, 21))
        # font = QtGui.QFont()
        # font.setPointSize(9)
        # self.roll_angle_label_65.setFont(font)
        # self.roll_angle_label_65.setObjectName("roll_angle_label_65")
        # self.doubleSpinBox_52 = QtWidgets.QDoubleSpinBox(self.groupBox_10)
        # self.doubleSpinBox_52.setGeometry(QtCore.QRect(500, 240, 62, 22))
        # self.doubleSpinBox_52.setObjectName("doubleSpinBox_52")
        # self.roll_angle_label_66 = QtWidgets.QLabel(self.groupBox_10)
        # self.roll_angle_label_66.setGeometry(QtCore.QRect(50, 240, 131, 21))
        # font = QtGui.QFont()
        # font.setPointSize(9)
        # self.roll_angle_label_66.setFont(font)
        # self.roll_angle_label_66.setObjectName("roll_angle_label_66")
        # self.label_10 = QtWidgets.QLabel(self.groupBox_10)
        # self.label_10.setGeometry(QtCore.QRect(30, 270, 71, 16))
        # font = QtGui.QFont()
        # font.setUnderline(True)
        # self.label_10.setFont(font)
        # self.label_10.setObjectName("label_10")
        # self.doubleSpinBox_53 = QtWidgets.QDoubleSpinBox(self.groupBox_10)
        # self.doubleSpinBox_53.setGeometry(QtCore.QRect(190, 300, 62, 22))
        # self.doubleSpinBox_53.setObjectName("doubleSpinBox_53")
        # self.roll_angle_label_67 = QtWidgets.QLabel(self.groupBox_10)
        # self.roll_angle_label_67.setGeometry(QtCore.QRect(50, 300, 131, 21))
        # font = QtGui.QFont()
        # font.setPointSize(9)
        # self.roll_angle_label_67.setFont(font)
        # self.roll_angle_label_67.setObjectName("roll_angle_label_67")
        # self.roll_angle_unit_26 = QtWidgets.QLabel(self.groupBox_10)
        # self.roll_angle_unit_26.setGeometry(QtCore.QRect(270, 300, 51, 21))
        # font = QtGui.QFont()
        # font.setPointSize(9)
        # self.roll_angle_unit_26.setFont(font)
        # self.roll_angle_unit_26.setObjectName("roll_angle_unit_26")
        # self.roll_angle_label_68 = QtWidgets.QLabel(self.groupBox_10)
        # self.roll_angle_label_68.setGeometry(QtCore.QRect(30, 60, 21, 21))
        # font = QtGui.QFont()
        # font.setPointSize(9)
        # font.setBold(True)
        # font.setWeight(75)
        # self.roll_angle_label_68.setFont(font)
        # self.roll_angle_label_68.setObjectName("roll_angle_label_68")
        # self.doubleSpinBox_54 = QtWidgets.QDoubleSpinBox(self.groupBox_10)
        # self.doubleSpinBox_54.setGeometry(QtCore.QRect(520, 100, 62, 22))
        # self.doubleSpinBox_54.setObjectName("doubleSpinBox_54")
        # self.roll_angle_label_69 = QtWidgets.QLabel(self.groupBox_10)
        # self.roll_angle_label_69.setGeometry(QtCore.QRect(470, 100, 81, 21))
        # font = QtGui.QFont()
        # font.setPointSize(9)
        # self.roll_angle_label_69.setFont(font)
        # self.roll_angle_label_69.setObjectName("roll_angle_label_69")
        # self.roll_angle_label_70 = QtWidgets.QLabel(self.groupBox_10)
        # self.roll_angle_label_70.setGeometry(QtCore.QRect(270, 100, 81, 21))
        # font = QtGui.QFont()
        # font.setPointSize(9)
        # self.roll_angle_label_70.setFont(font)
        # self.roll_angle_label_70.setObjectName("roll_angle_label_70")
        # self.roll_angle_label_71 = QtWidgets.QLabel(self.groupBox_10)
        # self.roll_angle_label_71.setGeometry(QtCore.QRect(70, 100, 81, 21))
        # font = QtGui.QFont()
        # font.setPointSize(9)
        # self.roll_angle_label_71.setFont(font)
        # self.roll_angle_label_71.setObjectName("roll_angle_label_71")
        # self.doubleSpinBox_55 = QtWidgets.QDoubleSpinBox(self.groupBox_10)
        # self.doubleSpinBox_55.setGeometry(QtCore.QRect(320, 100, 62, 22))
        # self.doubleSpinBox_55.setObjectName("doubleSpinBox_55")
        # self.roll_angle_label_72 = QtWidgets.QLabel(self.groupBox_10)
        # self.roll_angle_label_72.setGeometry(QtCore.QRect(30, 100, 21, 21))
        # font = QtGui.QFont()
        # font.setPointSize(9)
        # font.setBold(True)
        # font.setWeight(75)
        # self.roll_angle_label_72.setFont(font)
        # self.roll_angle_label_72.setObjectName("roll_angle_label_72")
        # self.doubleSpinBox_56 = QtWidgets.QDoubleSpinBox(self.groupBox_10)
        # self.doubleSpinBox_56.setGeometry(QtCore.QRect(120, 100, 62, 22))
        # self.doubleSpinBox_56.setObjectName("doubleSpinBox_56")
        # self.doubleSpinBox_57 = QtWidgets.QDoubleSpinBox(self.groupBox_10)
        # self.doubleSpinBox_57.setGeometry(QtCore.QRect(520, 140, 62, 22))
        # self.doubleSpinBox_57.setObjectName("doubleSpinBox_57")
        # self.roll_angle_label_73 = QtWidgets.QLabel(self.groupBox_10)
        # self.roll_angle_label_73.setGeometry(QtCore.QRect(470, 140, 81, 21))
        # font = QtGui.QFont()
        # font.setPointSize(9)
        # self.roll_angle_label_73.setFont(font)
        # self.roll_angle_label_73.setObjectName("roll_angle_label_73")
        # self.roll_angle_label_74 = QtWidgets.QLabel(self.groupBox_10)
        # self.roll_angle_label_74.setGeometry(QtCore.QRect(270, 140, 81, 21))
        # font = QtGui.QFont()
        # font.setPointSize(9)
        # self.roll_angle_label_74.setFont(font)
        # self.roll_angle_label_74.setObjectName("roll_angle_label_74")
        # self.roll_angle_label_75 = QtWidgets.QLabel(self.groupBox_10)
        # self.roll_angle_label_75.setGeometry(QtCore.QRect(70, 140, 81, 21))
        # font = QtGui.QFont()
        # font.setPointSize(9)
        # self.roll_angle_label_75.setFont(font)
        # self.roll_angle_label_75.setObjectName("roll_angle_label_75")
        # self.doubleSpinBox_58 = QtWidgets.QDoubleSpinBox(self.groupBox_10)
        # self.doubleSpinBox_58.setGeometry(QtCore.QRect(320, 140, 62, 22))
        # self.doubleSpinBox_58.setObjectName("doubleSpinBox_58")
        # self.roll_angle_label_76 = QtWidgets.QLabel(self.groupBox_10)
        # self.roll_angle_label_76.setGeometry(QtCore.QRect(30, 140, 21, 21))
        # font = QtGui.QFont()
        # font.setPointSize(9)
        # font.setBold(True)
        # font.setWeight(75)
        # self.roll_angle_label_76.setFont(font)
        # self.roll_angle_label_76.setObjectName("roll_angle_label_76")
        # self.doubleSpinBox_59 = QtWidgets.QDoubleSpinBox(self.groupBox_10)
        # self.doubleSpinBox_59.setGeometry(QtCore.QRect(120, 140, 62, 22))
        # self.doubleSpinBox_59.setObjectName("doubleSpinBox_59")
        # self.doubleSpinBox_60 = QtWidgets.QDoubleSpinBox(self.groupBox_10)
        # self.doubleSpinBox_60.setGeometry(QtCore.QRect(190, 360, 62, 22))
        # self.doubleSpinBox_60.setObjectName("doubleSpinBox_60")
        # self.roll_angle_label_77 = QtWidgets.QLabel(self.groupBox_10)
        # self.roll_angle_label_77.setGeometry(QtCore.QRect(50, 360, 131, 21))
        # font = QtGui.QFont()
        # font.setPointSize(9)
        # self.roll_angle_label_77.setFont(font)
        # self.roll_angle_label_77.setObjectName("roll_angle_label_77")
        # self.label_11 = QtWidgets.QLabel(self.groupBox_10)
        # self.label_11.setGeometry(QtCore.QRect(30, 330, 81, 16))
        # font = QtGui.QFont()
        # font.setUnderline(True)
        # self.label_11.setFont(font)
        # self.label_11.setObjectName("label_11")
        # self.roll_angle_label_78 = QtWidgets.QLabel(self.groupBox_10)
        # self.roll_angle_label_78.setGeometry(QtCore.QRect(270, 210, 41, 21))
        # font = QtGui.QFont()
        # font.setPointSize(9)
        # self.roll_angle_label_78.setFont(font)
        # self.roll_angle_label_78.setObjectName("roll_angle_label_78")
        # self.roll_angle_label_79 = QtWidgets.QLabel(self.groupBox_10)
        # self.roll_angle_label_79.setGeometry(QtCore.QRect(270, 240, 41, 21))
        # font = QtGui.QFont()
        # font.setPointSize(9)
        # self.roll_angle_label_79.setFont(font)
        # self.roll_angle_label_79.setObjectName("roll_angle_label_79")
        # self.roll_angle_label_80 = QtWidgets.QLabel(self.groupBox_10)
        # self.roll_angle_label_80.setGeometry(QtCore.QRect(580, 240, 51, 21))
        # font = QtGui.QFont()
        # font.setPointSize(9)
        # self.roll_angle_label_80.setFont(font)
        # self.roll_angle_label_80.setObjectName("roll_angle_label_80")
        # self.roll_angle_label_81 = QtWidgets.QLabel(self.groupBox_10)
        # self.roll_angle_label_81.setGeometry(QtCore.QRect(580, 210, 51, 21))
        # font = QtGui.QFont()
        # font.setPointSize(9)
        # self.roll_angle_label_81.setFont(font)
        # self.roll_angle_label_81.setObjectName("roll_angle_label_81")
        # self.verticalLayout_6.addWidget(self.groupBox_10)
        # self.stackedWidget.addWidget(self.page_2)

        ### Actuators
        self.groupBox_6 = QtWidgets.QGroupBox(self.controlsactuatorLayoutWidget)
        self.groupBox_6.setObjectName("groupBox_6")
        self.controlsactuatorLayout.addWidget(self.groupBox_6)
        self.controlsactuatorLayout.setStretch(1, 1)
        self.label_12 = QtWidgets.QLabel(self.groupBox_6)
        self.label_12.setGeometry(QtCore.QRect(20, 30, 71, 16))
        font = QtGui.QFont()
        font.setPointSize(9)
        font.setUnderline(True)
        self.label_12.setFont(font)
        self.label_12.setObjectName("label_12")
        font = QtGui.QFont()
        font.setPointSize(9)
        self.roll_angle_label_82 = QtWidgets.QLabel(self.groupBox_6)
        self.roll_angle_label_82.setGeometry(QtCore.QRect(260, 60, 41, 21))
        font = QtGui.QFont()
        font.setPointSize(9)
        self.roll_angle_label_82.setFont(font)
        self.roll_angle_label_82.setObjectName("roll_angle_label_82")
        self.roll_angle_label_84 = QtWidgets.QLabel(self.groupBox_6)
        self.roll_angle_label_84.setGeometry(QtCore.QRect(260, 90, 41, 21))
        self.roll_angle_label_84.setFont(font)
        self.roll_angle_label_84.setObjectName("roll_angle_label_84")
        self.roll_angle_label_86 = QtWidgets.QLabel(self.groupBox_6)
        self.roll_angle_label_86.setGeometry(QtCore.QRect(555, 60, 51, 21))
        self.roll_angle_label_86.setFont(font)
        self.roll_angle_label_86.setObjectName("roll_angle_label_86")
        self.roll_angle_label_88 = QtWidgets.QLabel(self.groupBox_6)
        self.roll_angle_label_88.setGeometry(QtCore.QRect(555, 90, 51, 21))
        self.roll_angle_label_88.setFont(font)
        self.roll_angle_label_88.setObjectName("roll_angle_label_88")
        self.roll_angle_label_87 = QtWidgets.QLabel(self.groupBox_6)
        self.roll_angle_label_87.setGeometry(QtCore.QRect(305, 60, 161, 21))
        self.roll_angle_label_87.setFont(font)
        self.roll_angle_label_87.setObjectName("roll_angle_label_87")
        self.roll_angle_label_89 = QtWidgets.QLabel(self.groupBox_6)
        self.roll_angle_label_89.setGeometry(QtCore.QRect(40, 60, 131, 21))
        self.roll_angle_label_89.setFont(font)
        self.roll_angle_label_89.setObjectName("roll_angle_label_89")
        self.roll_angle_label_83 = QtWidgets.QLabel(self.groupBox_6)
        self.roll_angle_label_83.setGeometry(QtCore.QRect(305, 90, 161, 21))
        self.roll_angle_label_83.setFont(font)
        self.roll_angle_label_83.setObjectName("roll_angle_label_83")
        self.roll_angle_label_85 = QtWidgets.QLabel(self.groupBox_6)
        self.roll_angle_label_85.setGeometry(QtCore.QRect(40, 90, 131, 21))
        self.roll_angle_label_85.setFont(font)
        self.roll_angle_label_85.setObjectName("roll_angle_label_85")
        self.doubleSpinBox_62 = QtWidgets.QDoubleSpinBox(self.groupBox_6)
        self.doubleSpinBox_62.setGeometry(QtCore.QRect(180, 60, 62, 22))
        self.doubleSpinBox_62.setObjectName("doubleSpinBox_62")
        self.doubleSpinBox_63 = QtWidgets.QDoubleSpinBox(self.groupBox_6)
        self.doubleSpinBox_63.setGeometry(QtCore.QRect(475, 90, 62, 22))
        self.doubleSpinBox_63.setObjectName("doubleSpinBox_63")
        self.doubleSpinBox_61 = QtWidgets.QDoubleSpinBox(self.groupBox_6)
        self.doubleSpinBox_61.setGeometry(QtCore.QRect(180, 90, 62, 22))
        self.doubleSpinBox_61.setObjectName("doubleSpinBox_61")
        self.doubleSpinBox_64 = QtWidgets.QDoubleSpinBox(self.groupBox_6)
        self.doubleSpinBox_64.setGeometry(QtCore.QRect(475, 60, 62, 22))
        self.doubleSpinBox_64.setObjectName("doubleSpinBox_64")
        self.label_13 = QtWidgets.QLabel(self.groupBox_6)
        self.label_13.setGeometry(QtCore.QRect(20, 120, 71, 16))
        font = QtGui.QFont()
        font.setPointSize(9)
        font.setUnderline(True)
        self.label_13.setFont(font)
        self.label_13.setObjectName("label_13")
        font = QtGui.QFont()
        font.setPointSize(9)
        self.roll_angle_label_90 = QtWidgets.QLabel(self.groupBox_6)
        self.roll_angle_label_90.setGeometry(QtCore.QRect(260, 180, 41, 21))
        self.roll_angle_label_90.setFont(font)
        self.roll_angle_label_90.setObjectName("roll_angle_label_90")
        self.roll_angle_label_96 = QtWidgets.QLabel(self.groupBox_6)
        self.roll_angle_label_96.setGeometry(QtCore.QRect(40, 180, 131, 21))
        self.roll_angle_label_96.setFont(font)
        self.roll_angle_label_96.setObjectName("roll_angle_label_96")
        self.roll_angle_label_97 = QtWidgets.QLabel(self.groupBox_6)
        self.roll_angle_label_97.setGeometry(QtCore.QRect(260, 150, 41, 21))
        self.roll_angle_label_97.setFont(font)
        self.roll_angle_label_97.setObjectName("roll_angle_label_97")
        self.roll_angle_label_91 = QtWidgets.QLabel(self.groupBox_6)
        self.roll_angle_label_91.setGeometry(QtCore.QRect(555, 150, 51, 21))
        self.roll_angle_label_91.setFont(font)
        self.roll_angle_label_91.setObjectName("roll_angle_label_91")
        self.roll_angle_label_92 = QtWidgets.QLabel(self.groupBox_6)
        self.roll_angle_label_92.setGeometry(QtCore.QRect(555, 180, 51, 21))
        self.roll_angle_label_92.setFont(font)
        self.roll_angle_label_92.setObjectName("roll_angle_label_92")
        self.roll_angle_label_93 = QtWidgets.QLabel(self.groupBox_6)
        self.roll_angle_label_93.setGeometry(QtCore.QRect(40, 150, 131, 21))
        self.roll_angle_label_93.setFont(font)
        self.roll_angle_label_93.setObjectName("roll_angle_label_93")
        self.roll_angle_label_94 = QtWidgets.QLabel(self.groupBox_6)
        self.roll_angle_label_94.setGeometry(QtCore.QRect(305, 150, 161, 21))
        self.roll_angle_label_94.setFont(font)
        self.roll_angle_label_94.setObjectName("roll_angle_label_94")
        self.roll_angle_label_95 = QtWidgets.QLabel(self.groupBox_6)
        self.roll_angle_label_95.setGeometry(QtCore.QRect(305, 180, 161, 21))
        self.roll_angle_label_95.setFont(font)
        self.roll_angle_label_95.setObjectName("roll_angle_label_95")
        self.doubleSpinBox_67 = QtWidgets.QDoubleSpinBox(self.groupBox_6)
        self.doubleSpinBox_67.setGeometry(QtCore.QRect(475, 180, 62, 22))
        self.doubleSpinBox_67.setObjectName("doubleSpinBox_67")
        self.doubleSpinBox_68 = QtWidgets.QDoubleSpinBox(self.groupBox_6)
        self.doubleSpinBox_68.setGeometry(QtCore.QRect(180, 180, 62, 22))
        self.doubleSpinBox_68.setObjectName("doubleSpinBox_68")
        self.doubleSpinBox_65 = QtWidgets.QDoubleSpinBox(self.groupBox_6)
        self.doubleSpinBox_65.setGeometry(QtCore.QRect(180, 150, 62, 22))
        self.doubleSpinBox_65.setObjectName("doubleSpinBox_65")
        self.doubleSpinBox_66 = QtWidgets.QDoubleSpinBox(self.groupBox_6)
        self.doubleSpinBox_66.setGeometry(QtCore.QRect(475, 150, 62, 22))
        self.doubleSpinBox_66.setObjectName("doubleSpinBox_66")


        self.verticalLayout.addWidget(self.tabWidget)
        MainWindow.setCentralWidget(self.centralwidget)


        self.statusbar = QtWidgets.QStatusBar(MainWindow)
        self.statusbar.setObjectName("statusbar")
        MainWindow.setStatusBar(self.statusbar)
        self.menubar = QtWidgets.QMenuBar(MainWindow)
        self.menubar.setGeometry(QtCore.QRect(0, 0, 1280, 21))
        self.menubar.setObjectName("menubar")
        MainWindow.setMenuBar(self.menubar)

        self.retranslateUi(MainWindow)
        self.tabWidget.setCurrentIndex(0)
        QtCore.QMetaObject.connectSlotsByName(MainWindow)

    def retranslateUi(self, MainWindow):
        _translate = QtCore.QCoreApplication.translate
        MainWindow.setWindowTitle(_translate("MainWindow", "Simulator"))
        self.TrajectorySim.setTitle(_translate("MainWindow", "3D view"))
        self.pushButton.setText(_translate("MainWindow", "Play"))
        self.States.setWhatsThis(_translate("MainWindow", "<html><head/><body><p>Press to simulate drone trajectory</p><p><br/></p></body></html>"))
        self.States.setTitle(_translate("MainWindow", "States"))
        self.earthFrame.setTitle(_translate("MainWindow", "Earth Fixed Frame"))
        self.pitch_angle_label.setText(_translate("MainWindow", "Pitch angle"))
        self.yaw_angle_lable.setText(_translate("MainWindow", "Yaw angle"))
        self.x_position_label.setText(_translate("MainWindow", "X-position"))
        self.roll_angle_label.setText(_translate("MainWindow", "Roll angle"))
        self.y_position_label.setText(_translate("MainWindow", "Y-position"))
        self.z_position_label.setText(_translate("MainWindow", "Z-position"))
        self.roll_angle_unit.setText(_translate("MainWindow", "deg"))
        self.pitch_angle_unit.setText(_translate("MainWindow", "deg"))
        self.yaw_angle_unit.setText(_translate("MainWindow", "deg"))
        self.x_position_unit.setText(_translate("MainWindow", "m"))
        self.y_position_unit.setText(_translate("MainWindow", "m"))
        self.z_position_unit.setText(_translate("MainWindow", "m"))
        self.bodyFrame.setTitle(_translate("MainWindow", "Body Frame"))
        self.pitch_rate_label.setText(_translate("MainWindow", "Pitch rate"))
        self.yaw_rate_lable.setText(_translate("MainWindow", "Yaw rate"))
        self.x_velocity_label.setText(_translate("MainWindow", "X-velocity"))
        self.roll_rate_label.setText(_translate("MainWindow", "Roll rate"))
        self.y_velocity_label.setText(_translate("MainWindow", "Y-velocity"))
        self.z_velocity_label.setText(_translate("MainWindow", "Z-velocity"))
        self.roll_rate_unit.setText(_translate("MainWindow", "deg/s"))
        self.pitch_rate_unit.setText(_translate("MainWindow", "deg/s"))
        self.yaw_rate_unit.setText(_translate("MainWindow", "deg/s"))
        self.z_velocity_unit.setText(_translate("MainWindow", "m/s"))
        self.x_velocity_unit.setText(_translate("MainWindow", "m/s"))
        self.y_velocity_unit.setText(_translate("MainWindow", "m/s"))
        self.Inputs.setTitle(_translate("MainWindow", "Inputs"))
        self.gimbal2_label.setText(_translate("MainWindow", "Y-gimbal angle"))
        self.rotational_label.setText(_translate("MainWindow", "Rot. rate prop."))
        self.gimbal1_label.setText(_translate("MainWindow", "X-gimbal angle"))
        self.gimbal1_unit.setText(_translate("MainWindow", "deg"))
        self.gimbal2_unit.setText(_translate("MainWindow", "deg"))
        self.rotational_unit.setText(_translate("MainWindow", "deg/s"))
        self.simulate.setWhatsThis(_translate("MainWindow", "Press to simulate drone trajectory"))
        self.simulate.setText(_translate("MainWindow", "Simulate"))
        self.tabWidget.setTabText(self.tabWidget.indexOf(self.tab_1), _translate("MainWindow", "Simulation"))
        self.tabWidget.setTabText(self.tabWidget.indexOf(self.tab_2), _translate("MainWindow", "Analyse"))
        self.groupBox.setTitle(_translate("MainWindow", "Dynamics"))
        self.groupBox_3.setTitle(_translate("MainWindow", "Physical Parameters"))
        self.roll_angle_label_2.setText(_translate("MainWindow", "Mass"))
        self.roll_angle_unit_2.setText(_translate("MainWindow", "kg"))
        self.roll_angle_label_3.setText(_translate("MainWindow", "Ixx"))
        self.roll_angle_unit_3.setText(_translate("MainWindow", "kgm2"))
        self.roll_angle_unit_4.setText(_translate("MainWindow", "kgm2"))
        self.roll_angle_label_4.setText(_translate("MainWindow", "Iyy"))
        self.roll_angle_unit_5.setText(_translate("MainWindow", "kgm2"))
        self.roll_angle_label_5.setText(_translate("MainWindow", "Izz"))
        self.roll_angle_label_6.setText(_translate("MainWindow", "Iyz"))
        self.roll_angle_label_7.setText(_translate("MainWindow", "Ixz"))
        self.roll_angle_unit_6.setText(_translate("MainWindow", "kgm2"))
        self.roll_angle_unit_7.setText(_translate("MainWindow", "kgm2"))
        self.roll_angle_label_8.setText(_translate("MainWindow", "Ixx"))
        self.roll_angle_unit_8.setText(_translate("MainWindow", "kgm2"))
        self.roll_angle_unit_11.setText(_translate("MainWindow", "m2"))
        self.roll_angle_label_9.setText(_translate("MainWindow", "Ay"))
        self.roll_angle_label_11.setText(_translate("MainWindow", "Az"))
        self.roll_angle_unit_10.setText(_translate("MainWindow", "m2"))
        self.roll_angle_unit_9.setText(_translate("MainWindow", "m2"))
        self.roll_angle_label_10.setText(_translate("MainWindow", "Ax"))
        self.roll_angle_label_12.setText(_translate("MainWindow", "r_cg"))
        self.roll_angle_unit_12.setText(_translate("MainWindow", "m"))
        self.groupBox_4.setTitle(_translate("MainWindow", "Aerodynamic Parameters"))
        self.groupBox_4.setTitle(_translate("MainWindow", "Aerodynamic Parameters"))
        self.roll_angle_label_13.setText(_translate("MainWindow", "rho"))
        self.roll_angle_unit_13.setText(_translate("MainWindow", "kg/m2"))
        self.roll_angle_unit_14.setText(_translate("MainWindow", "-"))
        self.roll_angle_label_14.setText(_translate("MainWindow", "r_cp"))
        self.roll_angle_label_15.setText(_translate("MainWindow", "Cdy"))
        self.roll_angle_unit_15.setText(_translate("MainWindow", "-"))
        self.roll_angle_label_16.setText(_translate("MainWindow", "Cdx"))
        self.roll_angle_unit_16.setText(_translate("MainWindow", "-"))
        self.roll_angle_label_17.setText(_translate("MainWindow", "Cdz"))
        self.roll_angle_unit_17.setText(_translate("MainWindow", "m"))
        self.roll_angle_label_18.setText(_translate("MainWindow", "(athmospehric sea-level density)"))
        self.roll_angle_label_19.setText(_translate("MainWindow", "(center of pressure measured from nose tip)"))
        self.groupBox_5.setTitle(_translate("MainWindow", "Thrust Parameters"))
        self.roll_angle_label_20.setText(_translate("MainWindow", "(center of gravity measured from nose tip)"))
        self.groupBox_5.setTitle(_translate("MainWindow", "Thrust Parameters"))
        self.roll_angle_unit_18.setText(_translate("MainWindow", "N/(rad/s)"))
        self.roll_angle_label_21.setText(_translate("MainWindow", "kf1"))
        self.roll_angle_label_22.setText(_translate("MainWindow", "km1"))
        self.roll_angle_unit_19.setText(_translate("MainWindow", "Nm/(rad/s)"))
        self.roll_angle_label_23.setText(_translate("MainWindow", "(propeller force constants)"))
        self.roll_angle_label_24.setText(_translate("MainWindow", "kf2"))
        self.roll_angle_label_25.setText(_translate("MainWindow", "km2"))
        self.roll_angle_unit_20.setText(_translate("MainWindow", "Nm/(rad/s)"))
        self.roll_angle_unit_21.setText(_translate("MainWindow", "N/(rad/s)"))
        self.roll_angle_label_26.setText(_translate("MainWindow", "(propeller moment constants)"))
        self.roll_angle_unit_22.setText(_translate("MainWindow", "m"))
        self.roll_angle_label_27.setText(_translate("MainWindow", "thrust offset in x-dir"))
        self.roll_angle_unit_23.setText(_translate("MainWindow", "m"))
        self.roll_angle_label_28.setText(_translate("MainWindow", "thrust offset in y-dir"))
        self.roll_angle_unit_24.setText(_translate("MainWindow", "m"))
        self.roll_angle_label_29.setText(_translate("MainWindow", "thrust offset in z-dir"))
        self.groupBox_2.setTitle(_translate("MainWindow", "Controls"))
        self.groupBox_6.setTitle(_translate("MainWindow", "Actuators"))
        self.pushButton_1.setText(_translate("MainWindow", "previous"))
        self.pushButton_2.setText(_translate("MainWindow", "current"))
        self.pushButton_3.setText(_translate("MainWindow", "next"))
        self.label.setText(_translate("MainWindow", "PID gains"))
        self.roll_angle_label_46.setText(_translate("MainWindow", "X:"))
        self.label_kd.setText(_translate("MainWindow", "Kd"))
        self.label_ki.setText(_translate("MainWindow", "Ki"))
        self.label_kp.setText(_translate("MainWindow", "Kp"))
        self.roll_angle_label_50.setText(_translate("MainWindow", "Y:"))
        self.roll_angle_label_47.setText(_translate("MainWindow", "Kd"))
        self.roll_angle_label_48.setText(_translate("MainWindow", "Ki"))
        self.roll_angle_label_49.setText(_translate("MainWindow", "Kp"))
        self.roll_angle_label_54.setText(_translate("MainWindow", "Z:"))
        self.roll_angle_label_51.setText(_translate("MainWindow", "Kd"))
        self.roll_angle_label_52.setText(_translate("MainWindow", "Ki"))
        self.roll_angle_label_53.setText(_translate("MainWindow", "Kp"))
        self.label_2.setText(_translate("MainWindow", "Saturation"))
        self.roll_angle_label_36.setText(_translate("MainWindow", "Upper Control Limit"))
        self.roll_angle_label_37.setText(_translate("MainWindow", "Upper Control Rate Limit"))
        self.roll_angle_label_38.setText(_translate("MainWindow", "Lower Control Rate Limit"))
        self.roll_angle_label_39.setText(_translate("MainWindow", "Lower Control Limit"))
        self.roll_angle_label_56.setText(_translate("MainWindow", "m/s"))
        self.roll_angle_label_57.setText(_translate("MainWindow", "m/s"))
        self.roll_angle_label_58.setText(_translate("MainWindow", "m/s2"))
        self.roll_angle_label_59.setText(_translate("MainWindow", "m/s2"))
        self.label_3.setText(_translate("MainWindow", "Filtering"))
        self.roll_angle_label_45.setText(_translate("MainWindow", "Cut-off frequency"))
        self.roll_angle_unit_25.setText(_translate("MainWindow", "rad/s"))
        self.label_7.setText(_translate("MainWindow", "Anti wind-up"))
        self.roll_angle_label_55.setText(_translate("MainWindow", "Gain k_wu"))
        self.label_12.setText(_translate("MainWindow", "Servos"))
        self.roll_angle_label_82.setText(_translate("MainWindow", "rad"))
        self.roll_angle_label_83.setText(_translate("MainWindow", "Lower Control Rate Limit"))
        self.roll_angle_label_84.setText(_translate("MainWindow", "rad"))
        self.roll_angle_label_85.setText(_translate("MainWindow", "Lower Control Limit"))
        self.roll_angle_label_86.setText(_translate("MainWindow", "rad/s"))
        self.roll_angle_label_87.setText(_translate("MainWindow", "Upper Control Rate Limit"))
        self.roll_angle_label_88.setText(_translate("MainWindow", "rad/s"))
        self.roll_angle_label_89.setText(_translate("MainWindow", "Upper Control Limit"))
        self.label_13.setText(_translate("MainWindow", "Propellers"))
        self.roll_angle_label_90.setText(_translate("MainWindow", "rad/s"))
        self.roll_angle_label_91.setText(_translate("MainWindow", "rad/s2"))
        self.roll_angle_label_92.setText(_translate("MainWindow", "rad/s2"))
        self.roll_angle_label_93.setText(_translate("MainWindow", "Upper Control Limit"))
        self.roll_angle_label_94.setText(_translate("MainWindow", "Upper Control Rate Limit"))
        self.roll_angle_label_95.setText(_translate("MainWindow", "Lower Control Rate Limit"))
        self.roll_angle_label_96.setText(_translate("MainWindow", "Lower Control Limit"))
        self.roll_angle_label_97.setText(_translate("MainWindow", "rad/s"))
        self.tabWidget.setTabText(self.tabWidget.indexOf(self.tab_3), _translate("MainWindow", "Settings"))
        self.button1.setText(_translate("MainWindow", "Earth-Fixed States (Pos & Vel)"))
        self.button2.setText(_translate("MainWindow", "Earth-Fixed States (Acc & Ang)"))
        self.button3.setText(_translate("MainWindow", "Body-Fixed States"))
        self.button4.setText(_translate("MainWindow", "Inputs"))
        self.button5.setText(_translate("MainWindow", "Trajectory"))


class simulation():
    def __init__(self):
        # Run simulation executable

        # Load simulation data
        self.x_vec = pd.read_csv("data/state.csv", header=None)           # Simulation states
        self.r_vec = pd.read_csv("data/ref.csv", header=None)           # Simulation reference
        self.u_vec = pd.read_csv("data/input.csv", header=None)           # Simulation inputs
        self.t_vec = np.genfromtxt('data/time.csv', delimiter=',')        # Simulation time

        # Current data point
        self.t, self.x, self.y, self.z, self.phi, self.theta, self.psi = np.hstack(( self.t_vec[0],
                                                                                     np.hstack(( self.x_vec[0][6:9],
                                                                                                 self.x_vec[0][0:3] )) ))
        self.p, self.q, self.r, self.u, self.v, self.w = np.hstack(( self.x_vec[0][3:6],
                                                                     self.x_vec[0][9:12] ))
        self.theta1, self.theta2, self.omega, self.thetaRate1, self.thetaRate2, self.omegaRate = self.u_vec[0]

        self.R = self.rotationMatrix()

    def rotationMatrix(self):
        R = np.array([[cos(self.theta) * cos(self.psi), sin(self.phi) * sin(self.theta) * cos(self.psi) - cos(self.phi) * sin(self.psi),
                         sin(self.phi) * sin(self.psi) + cos(self.phi) * sin(self.theta) * cos(self.psi)],
                        [cos(self.theta) * sin(self.psi), cos(self.phi) * cos(self.psi) + sin(self.phi) * sin(self.theta) * sin(self.psi),
                         cos(self.phi) * sin(self.theta) * sin(self.psi) - sin(self.phi) * cos(self.psi)],
                        [-sin(self.theta), sin(self.phi) * cos(self.theta), cos(self.phi) * cos(self.theta)]])
        return R

    def simulate(self):
        index = np.where(np.around(self.t_vec, 2) == np.round(self.t, 2))[0][0]
        self.x, self.y, self.z, self.phi, self.theta, self.psi = np.hstack((self.x_vec[index][6:9], self.x_vec[index][0:3]))
        self.p, self.q, self.r, self.u, self.v, self.w = np.hstack(( self.x_vec[index][3:6], self.x_vec[index][9:12] ))
        self.theta1, self.theta2, self.omega, self.thetaRate1, self.thetaRate2, self.omegaRate = self.u_vec[index]
        scale = np.amax(np.abs(np.array(self.x_vec.loc[8])))
        rotationMatrix = pyrr.Matrix44(Eframe2GlframeRotation(self.rotationMatrix()))
        translationMatrix = pyrr.matrix44.create_from_translation(Eframe2GlframeTranslation(self.x_vec[index][6:9] / scale))
        model = rotationMatrix.dot(translationMatrix)
        return model


class MainWindow(QtWidgets.QMainWindow):
    def __init__(self):
        QtWidgets.QMainWindow.__init__(self)

        self.ui = Ui_MainWindow()
        self.ui.setupUi(self)

        # Window update loop
        self.timer = QtCore.QTimer()
        self.timer.timeout.connect(lambda: self.updateFrame())
        self.timer.start(int(1 / FPS * 1000))

        # Handle simulation actions
        self.ui.simulate.clicked.connect(lambda: self.runSimulation())
        self.ui.pushButton.clicked.connect(lambda: self.playSimulation())
        self.ui.horizontalSlider.sliderPressed.connect(lambda: self.playSimulation(True))

        # Handle analysis buttons
        self.ui.button1.clicked.connect(lambda: self.graphSwitch(0))
        self.ui.button2.clicked.connect(lambda: self.graphSwitch(1))
        self.ui.button3.clicked.connect(lambda: self.graphSwitch(2))
        self.ui.button4.clicked.connect(lambda: self.graphSwitch(3))
        self.ui.button5.clicked.connect(lambda: self.graphSwitch(4))

        # Keep track of states
        self.start = 0                  # start time
        self.offset = 0                 # offset time
        self.max = 0                    # max time
        self.pressed = False            # mouse button pressed
        self.play = False               # simulation playing

    def updateFrame(self):
        # Update simulation
        if self.ui.openGLWidget.simulation:
            if self.play:
                t = time.time() - self.start + self.offset
                self.ui.openGLWidget.simulation.t = t if t <= self.max else self.max
                self.ui.horizontalSlider.setValue(int(100*round(self.ui.openGLWidget.simulation.t, 2)))
            else:
                self.ui.openGLWidget.simulation.t = self.ui.horizontalSlider.value()/100
                self.offset = self.ui.horizontalSlider.value()/100

            # Update state and inputs
            self.ui.roll_angle.setText(str(round(self.ui.openGLWidget.simulation.phi*180/pi, 2)))
            self.ui.pitch_angle.setText(str(round(self.ui.openGLWidget.simulation.theta*180/pi, 2)))
            self.ui.yaw_angle.setText(str(round(self.ui.openGLWidget.simulation.psi*180/pi, 2)))
            self.ui.roll_rate.setText(str(round(self.ui.openGLWidget.simulation.p*180/pi, 2)))
            self.ui.pitch_rate.setText(str(round(self.ui.openGLWidget.simulation.q*180/pi, 2)))
            self.ui.yaw_rate.setText(str(round(self.ui.openGLWidget.simulation.r*180/pi, 2)))
            self.ui.x_position.setText(str(round(self.ui.openGLWidget.simulation.x, 2)))
            self.ui.y_position.setText(str(round(self.ui.openGLWidget.simulation.y, 2)))
            self.ui.z_position.setText(str(round(self.ui.openGLWidget.simulation.z, 2)))
            self.ui.x_velocity.setText(str(round(self.ui.openGLWidget.simulation.u, 2)))
            self.ui.y_velocity.setText(str(round(self.ui.openGLWidget.simulation.v, 2)))
            self.ui.z_velocity.setText(str(round(self.ui.openGLWidget.simulation.w, 2)))

            self.ui.gimbal1.setText(str(round(self.ui.openGLWidget.simulation.theta1*180/pi, 2)))
            self.ui.gimbal2.setText(str(round(self.ui.openGLWidget.simulation.theta2*180/pi, 2)))
            self.ui.rotational.setText(str(round(self.ui.openGLWidget.simulation.omega)))

            self.ui.openGLWidget.repaint()        # Update OpenGL widget

    def runSimulation(self):
        self.ui.openGLWidget.simulation = simulation()                                      # Create simulation object
        self.max = self.ui.openGLWidget.simulation.t_vec[-1]
        self.ui.horizontalSlider.setMaximum(int(100*round(self.max, 2)))
        self.generateGraphs()

    def playSimulation(self, bool=False):
        if self.ui.openGLWidget.simulation:                                                 # Simulation object exists
            if not self.play and not bool:                                                  # Simulation paused
                self.play = True
                self.start = time.time()
            elif self.play or bool:                                                         # Simulation playing
                self.play = False
                self.offset = time.time() - self.start + self.offset

    def graphSwitch(self, idx):
        self.ui.graphBox.setCurrentIndex(idx)

    def generateGraphs(self):
        t = self.ui.openGLWidget.simulation.t_vec
        x = np.array(self.ui.openGLWidget.simulation.x_vec)
        r = np.array(self.ui.openGLWidget.simulation.r_vec)
        u = np.array(self.ui.openGLWidget.simulation.u_vec)
        # Page 1: earth-fixed graphs
        self.ui.graph1_1.plot2D(t, x[:][6], "Time [s]", "X position [m]", r[:][10])
        self.ui.graph1_2.plot2D(t, x[:][7], "Time [s]", "Y position [m]", r[:][11])
        self.ui.graph1_3.plot2D(t, -x[:][8], "Time [s]", "Z position [m]", -r[:][12])

        self.ui.graph1_4.plot2D(t, x[:][12], "Time [s]", "X velocity [m/s]", r[:][7])
        self.ui.graph1_5.plot2D(t, x[:][13], "Time [s]", "Y velocity [m/s]", r[:][8])
        self.ui.graph1_6.plot2D(t, -x[:][14], "Time [s]", "Z velocity [m/s]", -r[:][9])

        # Page 2: earth-fixed graphs
        self.ui.graph2_1.plot2D(t, x[:][15], "Time [s]", "X acceleration [m/s2]", r[:][4])
        self.ui.graph2_2.plot2D(t, x[:][16], "Time [s]", "Y acceleration [m/s2]", r[:][5])
        self.ui.graph2_3.plot2D(t, -x[:][17], "Time [s]", "Z acceleration [m/s2]", -r[:][6])

        self.ui.graph2_4.plot2D(t, x[:][0]*180/pi, "Time [s]", "Roll angle [deg]", r[:][2]*180/pi)
        self.ui.graph2_5.plot2D(t, x[:][1]*180/pi, "Time [s]", "Pitch angle [deg]", r[:][3]*180/pi)
        self.ui.graph2_6.plot2D(t, x[:][2]*180/pi, "Time [s]", "Yaw angle [deg]")

        # Page 3: body-fixed graphs
        self.ui.graph3_1.plot2D(t, x[:][9], "Time [s]", "X velocity [m/s]")
        self.ui.graph3_2.plot2D(t, x[:][10], "Time [s]", "Y velocity [m/s]")
        self.ui.graph3_3.plot2D(t, x[:][11], "Time [s]", "Z velocity [m/s]")

        self.ui.graph3_4.plot2D(t, x[:][3]*180/pi, "Time [s]", "Roll rate [deg/s]", r[:][0]*180/pi)
        self.ui.graph3_5.plot2D(t, x[:][4]*180/pi, "Time [s]", "Pitch rate [deg/s]", r[:][1]*180/pi)
        self.ui.graph3_6.plot2D(t, x[:][5]*180/pi, "Time [s]", "Yaw rate [deg/s]")

        # Page 4: inputs
        self.ui.graph4_1.plot2D(t, u[:][0]*180/pi, "Time [s]", "X gimbal angle [deg]")
        self.ui.graph4_2.plot2D(t, u[:][1]*180/pi, "Time [s]", "Y gimbal angle [deg]")
        self.ui.graph4_3.plot2D(t, u[:][2], "Time [s]", "Prop. rotational velocity [deg/s]")

        self.ui.graph4_4.plot2D(t, u[:][3]*180/pi, "Time [s]", "X gimbal rate [deg/s]")
        self.ui.graph4_5.plot2D(t, u[:][4]*180/pi, "Time [s]", "Y gimbal rate [deg/s]")
        self.ui.graph4_6.plot2D(t, u[:][5], "Time [s]", "Prop. rotational acceleration [deg/s^2]")

        # Page 5: trajectory
        self.ui.graph5_1.plot3d(x[:][6], x[:][7], x[:][8], "X position [m]", "Y position [m]", "Z position [m]")

    def keyReleaseEvent(self, event):
        self.ui.openGLWidget.processKeyInput(event)

    def mousePressEvent(self, event):
        self.pressed = True
        self.ui.openGLWidget.mousePosInit = np.array([event.x(), event.y()])

    def mouseReleaseEvent(self, event):
        self.pressed = False
        self.ui.openGLWidget.mousePosFin = np.array([event.x(), event.y()])

    def mouseMoveEvent(self, event):
        if self.pressed:
            self.ui.openGLWidget.mousePosFin = np.array([event.x(), event.y()])
            self.ui.openGLWidget.processMouseInput(event)


